<html>
<body>
<div class="wrapper ">
		<!--(HEAD 최종수정일 : 2024-05-07 17:12)-->
<!-- mass promotion 메뉴 동적 노출 -->


<script>
	jQuery(function(){
		jQuery.ajax({
			type : "GET",
			url : "/massPromotion/get.json",
			cache : false,
			dataType : "json",
			global : false,
			beforeSend: function() {
			},
			complete: function() {
			},
			success : function(data){
                var massPromtn = data.bean;
                //조회 결과에 따라 랜더링
                if(massPromtn != null && massPromtn != ""){
                    var url = getMassPromtnUrl();
                    var menuNm = massPromtn.promtnNm;
                    var sysCode = massPromtn.sysCode;
                    appendMassPromotionMenu(url, menuNm, sysCode);
                }
			},
			error:function(r, s, e){
			}
		});
	});

    function getMassPromtnUrl(){
        var url = "";
        var sysCode = jQuery("#sysCode").val();

        if(gfncIsApp()){
            //앱일 경우
            url = "/m/massPromotion/list.do";
        }else if(gfncIsMobile()){
            //모바일일 경우
            if(sysCode == "JOSUNHOTEL"){
                url = "/m/massPromotion/list.do";
            }else {
                if(gfncIsDevServer()){
                    url = "http://dev.josunhotel.com/m/massPromotion/list.do";
                }else {
                    url = "https://www.josunhotel.com/m/massPromotion/list.do";
                }
            }
        }else {
            //pc일 경우
            if(sysCode == "JOSUNHOTEL"){
                url = "/massPromotion/list.do";
            }else {
                if(gfncIsDevServer()){
                    url = "http://dev.josunhotel.com/massPromotion/list.do";
                }else {
                    url = "https://www.josunhotel.com/massPromotion/list.do";
                }
            }
        }
        return url;
    }

    function appendMassPromotionMenu(url, menuNm, sysCode){
        if(gfncIsApp()){
            //앱일 경우
            var menuHtml = '<div class="titArea"><li><a href="'+url+'">'+menuNm+'</a></li></div>';

            var pathname = window.location.pathname;
            if(pathname.indexOf("/app/main.do") == 0){
                jQuery(".gnbArea ul.toggleList > li > .titArea:contains('패키지')").closest("ul").append(menuHtml);
            }else {
                jQuery(".gnbArea ul.toggleList li:contains('PACKAGE')").closest("ul").append(menuHtml);
            }

            /*if(jQuery(".gnbArea ul.toggleList li:contains('패키지')").length > jQuery(".gnbArea ul.toggleList li:contains('PACKAGE')").length){
                jQuery(".gnbArea ul.toggleList li:contains('패키지')").closest("ul").append(menuHtml);
            } else {
                jQuery(".gnbArea ul.toggleList li:contains('PACKAGE')").closest("ul").append(menuHtml);
            }*/

        }else if(gfncIsMobile()){
            //모바일일 경우
            var menuHtml = '<div class="titArea"><li><a href="'+url+'">'+menuNm+'</a></li></div>';
            jQuery(".gnbArea ul.toggleList li:contains('PACKAGE')").closest("ul").append(menuHtml);
        }else{
            //pc일 경우
            if(sysCode == "JOSUNHOTEL" || sysCode == "JPY"){
                //해당 페이지가 HUB거나 JPY일 경우
                var menuHtml = '<li><a href="'+url+'">'+menuNm+'</a></li>';
                jQuery(".allMenu ul.menuDepth01 ul.menuDepth02 li:contains('PACKAGE')").closest("ul").append(menuHtml);
            }else {
                var menuHtml = '<li><a href="'+url+'">'+menuNm+'</a></li>';
                jQuery(".headArea .utilMenu .gnbDepth1 .gnbDepth2 li:contains('PACKAGE')").closest("ul").append(menuHtml);
            }
        }
    }

</script>

<script>
        //2022-05-23 조선라운지 추가
        //헤더 메뉴 버튼 클릭 이벤트
        jQuery(document).on("click",".headArea .btnMenu" ,function(){

            //메뉴 펼쳐질때 라운지 list 3가지 무작위 노출
            if(jQuery(this).hasClass("menuOn")){
                var expsrCount = 3;
                var $loungeList = jQuery(".menuDepth-add .gnb-thum li");
                var randomArray = generateRandomNumberArray(expsrCount, $loungeList.length);

                $loungeList.addClass("hidden");
                $loungeList.each(function(index){
                    if(randomArray.indexOf(index) > -1){
                        jQuery(this).removeClass("hidden");
                    }
                });
            }
        })
</script>

			<div class="header on"> <!-- 메뉴 열리면 gnbOn 클래스 추가 -->
			<!-- header type02 추가 되는 경우 mainArea02, mainArea03, mainArea05  -->
			<div class="headArea">
				<strong class="logo"><a href="/intro.do">JOSUN HOTELS &amp; RESORTS</a></strong>
				<button type="button" class="btnMenu">메뉴 열기</button> <!-- 클릭하면 menuOn 클래스 추가, 메뉴 닫기 텍스트 변경 -->
				<!-- 20200709 수정 / gnbUtil 안에 있던 호텔찾기, 다국어 영역 위치 변경  -->
				<div class="topUtil">
					<!-- <a href="#none" class="hotelFind" onClick="commonJs.popShow($('#hotelFindLayer'))">호텔찾기</a> -->
                    <a href="/package/list.do" class="hotelFind">상품찾기</a>
					<div class="langArea">
						<div class="dropdown_list" aria-expanded="false">
							<div class="dropdown_value">
								<input type="text" role="combobox" value="KR" aria-expanded="false" tabindex="-1" readonly="">
								<button type="button" aria-label="목록열기" class="btn_opener"></button>
							</div>
							<ul class="item_list" role="listbox">
								<li role="option" class="langKr"><a href="javascript:fncChangeLang('ko');" style="display: none;">KR</a></li>
								<li role="option" class="langEn"><a href="javascript:fncChangeLang('en');">EN</a></li>
								<li role="option" class="langCn"><a href="javascript:fncChangeLang('zh');">CN</a></li>
								<li role="option" class="langJp"><a href="javascript:fncChangeLang('ja');">JP</a></li>
							</ul>
						</div>
					</div>
				</div>
				
				<!-- //20200709 수정 -->
				<div class="allMenu"> <!-- 화면 높이값 계산 height:적용, body:overflow:hidden -->
					<div class="inner">

    
    
                <!-- 프로모션 배너 -->
                

						<ul class="menuDepth01">
						
						
							
						
							
								
								
                                <li>ABOUT US
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/about/hotel.do">JOSUN HOTELS &amp; RESORTS</a>
													
													
														<ul class="menuDepth03">
															
                                                                
																    <li><a href="/about/hotel.do">기업소개</a></li>
                                                                
															
                                                                
																    <li><a href="/about/history.do">연혁</a></li>
                                                                
															
                                                                
																    <li><a href="/about/awards.do">수상내역</a></li>
                                                                
															
                                                                
																    <li><a href="/about/esg.do">ESG경영</a></li>
                                                                
															
                                                                
																    <li><a href="/about/accounts.do">결산공고</a></li>
                                                                
															
                                                                
																    <li><a href="/about/location.do">오시는길</a></li>
                                                                
															
                                                                
															
														</ul>
													
													</li>
												
											
												
													<li><a href="/press/actReport.do">NEWS</a>
													
													
														<ul class="menuDepth03">
															
                                                                
																    <li><a href="/press/actReport.do">주요소식</a></li>
                                                                
															
                                                                
															
                                                                
																    <li><a href="/press/social.do">소셜 미디어</a></li>
                                                                
															
														</ul>
													
													</li>
												
											
												
													<li><a href="/recruit/employment.do">RECRUIT</a>
													
													
													</li>
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li>HOTELS
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/hotel/JosunPalace.do">조선 팰리스</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/westinSeoul.do">웨스틴 조선 서울</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/westinBusan.do">웨스틴 조선 부산</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/grandBusan.do">그랜드 조선 부산</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/grandJeju.do">그랜드 조선 제주</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/lescape.do">레스케이프 호텔</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/pangyo.do">그래비티 서울 판교</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/fpbsSeoul.do">포포인츠 바이 쉐라톤 조선 서울역</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/fpbsMyeongdong.do">포포인츠 바이 쉐라톤 조선, 서울 명동</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/parasparaSeoul.do">파라스파라 서울</a>
													
													
													</li>
												
											
												
													<li><a href="/hotel/Corallo.do">코랄로&nbsp;바이&nbsp;조선</a>
													
													
													</li>
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li>OFFERS
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/package/list.do">PACKAGE</a>
													
													
													</li>
												
											
												
											
												
													<li><a href="/event/list.do">EVENT</a>
													
													
													</li>
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li>MEMBERSHIP
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/membership/ed2_product.do">CLUB JOSUN</a>
													
													
													</li>
												
											
												
											
												
													<li><a href="/membership/event.do">EVENT</a>
													
													
													</li>
												
											
												
													<li><a href="/membership/news.do">NEWS</a>
													
													
													</li>
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li>MY PAGE
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/mypage/main.do">MY PAGE</a>
													
													
													</li>
												
											
												
													<li><a href="/mypage/myPointForm.do">MY POINT</a>
													
													
													</li>
												
											
												
													<li><a href="/mypage/myCouponaForm.do">MY COUPON</a>
													
													
													</li>
												
											
												
													<li><a href="/mypage/myGoodsForm.do">멤버십확인</a>
													
													
													</li>
												
											
												
													<li><a href="/cnfirm/mber/room/reserveList.do">예약확인</a>
													
													
													</li>
												
											
												
													<li><a href="/mber/interest/roomList.do">관심리스트</a>
													
													
													</li>
												
											
												
													<li><a href="/mypage/myInfoForm.do">개인정보관리</a>
													
													
													</li>
												
											
												
											
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li>RETAIL BUSINESS
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/retail/homurang.do">Restaurants</a>
													
													
														<ul class="menuDepth03">
															
                                                                
																    <li><a href="/retail/homurang.do">호무랑</a></li>
                                                                
															
                                                                
																    <li><a href="/retail/hokyungjeon.do">호경전</a></li>
                                                                
															
                                                                
																    <li><a href="/retail/jaju.do">자주 테이블</a></li>
                                                                
															
                                                                
																    <li><a href="/retail/mott32seoul.do">MOTT 32 SEOUL</a></li>
                                                                
															
														</ul>
													
													</li>
												
											
												
													<li><a href="/product/kyukmul.do">PRODUCT</a>
													
													
														<ul class="menuDepth03">
															
                                                                
																    <li><a href="/product/kyukmul.do">격물공부</a></li>
                                                                
															
                                                                
																    <li><a href="/product/kimchi.do">조선호텔 김치</a></li>
                                                                
															
                                                                
																    <li><a href="/product/janePacker.do">제인패커</a></li>
                                                                
															
														</ul>
													
													</li>
												
											
												
													<li><a href="/office/stateTower.do">OFFICE MANAGEMENT SERVICES</a>
													
													
														<ul class="menuDepth03">
															
                                                                
																    <li><a href="/office/stateTower.do">스테이트 타워</a></li>
                                                                
															
                                                                
																    <li><a href="/office/centerfield.do">센터필드</a></li>
                                                                
															
														</ul>
													
													</li>
												
											
												
											
										</ul>
									
								</li>
							
						
							
								
								
                                <li class="gnb-customer">CUSTOMER SERVICE
									
										<ul class="menuDepth02">
																					
											
												
													<li><a href="/voc/cstmrOpinionForm.do">Q&amp;A</a>
													
													
													</li>
												
											
												
													<li><a href="/customer/faq.do">FAQ</a>
													
													
													</li>
												
											
												
													<li><a href="/customer/giftCard.do">GIFT CARD</a>
													
													
													</li>
												
											
										</ul>
									
								</li>
							
						
							
						
							
						
							
						
							
						
							
						
							
						
							
						
							
						
							
						
                        </ul>
        
        <ul class="menuDepth-add">
            <li>JOSUN LOUNGE
                <ul class="gnb-thum">
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/my-private-suite/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2043993&amp;sysCode=JOSUNHOTEL" alt="그랜드조선제주 힐스위트관 스위트">
                                <span>Suite Tour</span>
                            </a>
                        </li>
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/know-better-do-better/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2043999&amp;sysCode=JOSUNHOTEL" alt="아리아_콘스탄스">
                                <span>Behind</span>
                            </a>
                        </li>
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/the-new-theory-of-gravity/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2044004&amp;sysCode=JOSUNHOTEL" alt="그래비티 부스트">
                                <span>Visit</span>
                            </a>
                        </li>
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/bingsu-coming-up/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2044009&amp;sysCode=JOSUNHOTEL" alt="조선호텔빙수">
                                <span>Item</span>
                            </a>
                        </li>
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/the-gift-season/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2044016&amp;sysCode=JOSUNHOTEL" alt="호텔 선물">
                                <span>Recommend</span>
                            </a>
                        </li>
                    
                        <li class="hidden">
                            <a href="https://lounge.josunhotel.com/05/renovation-innovation-in-1970/" target="_blank">
                                <img src="/util/file/download.do?fileSn=2044021&amp;sysCode=JOSUNHOTEL" alt="조선호텔헤리티지">
                                <span>Documentary</span>
                            </a>
                        </li>
                    
                </ul>
            </li>
        </ul>
						<button type="button" class="btnClose" onclick="commonJs.popClose($('#layerPop1'))">닫기</button>
					</div>
				</div>
				<!-- //allMenu -->
				<div class="gnbUtil">
					
						<ul>
							<li><a href="/membership/ed2_product.do" id="membership">멤버십</a></li>
							<li><a href="/login/loginForm.do" id="login">로그인</a></li>
							<li><a href="/identify/identifyIntro.do" id="join">회원가입</a></li>
							<li><a href="/login/noMbrLoginForm.do" id="confirmReserv">예약확인</a></li>
						</ul>
					
					
					<!-- 20200723 수정 / 버튼에서 드롭다운으로 변경 -->
					<div class="resvBtn">
						<div class="dropdown_list" aria-expanded="false">
							<div class="dropdown_value">
								<input type="text" role="combobox" value="RESERVATION" aria-expanded="false" tabindex="-1" readonly="">
								<button type="button" aria-label="목록열기" class="btn_opener"></button>
							</div>
							<ul class="item_list" role="listbox">
								<li role="option"><a href="/resve/room/step0.do" id="roomSearchGNB">ROOM</a></li>
                                
      								<li role="option"><a href="/resve/dining/resveForm.do?searchSysCode=TWC&amp;searchDiningCode=003" id="diningSearchGNB">DINING</a></li>                             
                                
								<li role="option"><a href="/mypage/myCouponaForm.do">MEMBERSHIP</a></li>
							</ul>
						</div>
					</div>
					<!-- //20200723 수정 -->
				</div>
				<!-- //gnbUtil -->
			</div>
		</div>






	

		<!-- //header -->
        <!--(페이지 URL)-->













<script type="text/javascript" src="/static/home/js/home.js"></script>
<script type="text/javascript">

    let langCode = 'ko';
    let emptyTableType = false; // 모든 테이블이 비어있을경우 true
    let emptyMenuSet = false;
    let snsValidation = false; // 전화번호 인증
    let timer // 타이머

    $(document).ready(function () {
        fncBrowserBtn(); // 브라우저 버튼
        fncTranceText();

        

        fncDrawReady(); // 예약 준비 화면
        fncBtnNoPay(); // 예약, 결제 버튼 구분
	    //메뉴 선택 없는 업장 정보 호출 용
        fncCatchDiningInfo(); // 업장정보(취소규정)
    });


    // 브라우저 버튼 이벤트
    function fncBrowserBtn() {
        // 뒤로가기 버튼 이벤트
        window.history.pushState(null, null, '');
        window.onpopstate = () => {
            window.history.pushState(null, null, '');
            window.onbeforeunload = null;
            history.go(1);
            fncGoStep0();
        };
    }

    // 이메일 셀렉트 박스 텍스트 입력
    $(function(){
        /*
             이메일 도메인 정보 수정 시
             직접입력인 경우 email2 input disabled 제거
             도메인 선택 시 도메인 email2 input에 주입 후 disabled
         */
        jQuery("[name='emailType']").on("change", function(){
            var value = jQuery(this).val();
            let title = jQuery(this).prop("title");
            let id = "inp_"+title+"Email1";
            if(value == ""){
                jQuery('['+id+']').val("");
                jQuery('['+id+']').prop("readonly", false);
            }else{
                jQuery('['+id+']').val(value);
                jQuery('['+id+']').prop("readonly", true);
            }
        });
    });

    // 업장정보(취소규정)
    function fncCatchDiningInfo() {
        let shopId = $("#shopId").val();
        jQuery.ajax({
            type: "GET",
            url: "/resve/dining/info.json",
            cache: false,
            dataType: "json",
            async: false,
            global: false,
            data: {
                "shopId": shopId
            },
            beforeSend: function () {
                commonJs.showLoadingBar(); //로딩바 show
            },
            complete: function () {
                commonJs.closeLoadingBar(); //로딩바 hide
            },
            success: function (data) {
                let refundPolicy = data.result.data.refundPolicy;
                let totalAmount = Number($("#totalAmount").val());

                refundPolicy.sort(function(a, b) {
                    return a.baseDay - b.baseDay;
                });

                $("#refundUl").html('');

                refundPolicy.forEach(function (item, idx){
                    let baseDay = item.baseDay;
                    let refundRate = item.refundRate;
                    let dayNm = "";
                    let rateNm = "";
                    switch (baseDay) {
                        case -1:
                            dayNm = "노쇼 시"; // 노쇼 시
                            break;
                        case 0:
                            dayNm = "당일 취소"; // 당일 취소
                            break;
                        default:
                            dayNm = "{1}일 전 취소".replace('{1}', baseDay); // 1일 전 취소
                            break;
                    }

                    if (refundRate > 0) {
                        rateNm = "{1}% 환불".replace('{1}', (refundRate * 100)); // 10% 환불
                    } else if (refundRate == 0) {
                        rateNm = "환불 불가"; // 환불 불가
                    }

                    let refundLi = `<li>`+dayNm+` : `+rateNm+`</li>`;
                    $("#refundUl").append(refundLi);

                    if (baseDay > -1 && refundRate > 0 && idx == refundPolicy.length -1 && refundRate == 1 && totalAmount > 0) {
                        let refundDate = new Date($("#visitDate").val());
                        refundDate.setDate(refundDate.getDate() - Number(baseDay));
                        if (refundDate >= new Date()) {
                            let mm = refundDate.getMonth() >= 9 ? (refundDate.getMonth()+1) : "0"+(refundDate.getMonth()+1);
                            let dd = refundDate.getDate() >= 10 ? refundDate.getDate() : "0"+refundDate.getDate();
                            let refundDesc = "{1}월 {2}일 23시 59분까지 취소 시 예약금 100% 환불".replace('{1}', mm).replace('{2}', dd);
                            $("#refundDesc").show();
                            $("#refundDesc").text(refundDesc);
                        }
                    }
                });
            }
        });
    }

    // 예약 준비 api
    function resveReady() {
        return new Promise(function (resolve, reject) {
            jQuery.ajax({
                type: "GET",
                url: "/resve/dining/prepare.json",
                cache: false,
                dataType: "json",
                async: false,
                global: false,
                beforeSend: function () {
                    commonJs.showLoadingBar(); //로딩바 show
                },
                complete: function () {
                    commonJs.closeLoadingBar(); //로딩바 hide
                },
                success: function (data) {
                    resolve(data);
                }
            });
        });

    }

    // 예약 준비 화면
    async function fncDrawReady() {
        let data = await resveReady();

        if (typeof data.result.data == "undefined") {
            alert(data.resultMsg);
            return;
        }

        if (typeof data.result.data != "undefined") {

            let tables = data.result.data.tables;
            let sourceTableTypes = data.result.data.sourceTableTypes;
            let tableTypes = data.result.data.tableTypes;
            let notAvailableTableTypes = data.result.data.notAvailableTableTypes;
            let useTableTypeYn = data.result.data.useTableTypeYn;
            let useTableTypeMenuSet = data.result.data.useTableTypeMenuSet;
            let sourceTableTypeNames = data.result.data.sourceTableTypeNames; // {테이블 코드 : 테이블 명}

            $("#reservationToken").val(data.result.data.reservationToken);
            $("#holdingToken").val(data.result.data.holdingToken);
            $("#holdingExpiresAt").val(data.result.data.holdingExpiresAt);
            $("#useTableTypeYn").val(useTableTypeYn);
            $("#useTableTypeMenuSet").val(useTableTypeMenuSet);

            let personCount = $("#personCount").val();
            let confirmReservationUseYn = $("#confirmUseYn").val();

            let tableTypeIsAll = useTableTypeYn == "N" && useTableTypeMenuSet == "Y"; // 전체 테이블을 사용하는 경우
            let useNTableType = useTableTypeYn == "Y" && useTableTypeMenuSet == "Y"; // 미지정 메뉴 구분을 사용하는 경우

            if (tables.length > 0) {

                if (useTableTypeMenuSet == "Y") {
                    fncSelectMenuSet();
                    fncSelectTableType();
                    fncSelectMenuItem();
                } else {
                    fncSelectTableType();
                    fncSelectMenuSet();
                    fncSelectMenuItem();
                }

            }

            // 테이블타입 그리기
            function fncSelectTableType() {
                $("#tableTypeUl1").html("");
                $("#tableTypeUl2").html("");

                let selectedTableType = $("#selectedTableType").val();
                let selectedMenuSetId = $("#selectedMenuSetId").val();
                let sourceTableTypesList = Object.assign([], sourceTableTypes);
                let notAvailableTableTypesList = Object.assign([], notAvailableTableTypes);
                let newNotAvailableTableTypes = [];

                if (useTableTypeYn == "N" && useTableTypeMenuSet == "Y") {

                    if (selectedTableType == '') {
                        $("#selectedTableType").val(tables[0].tableType);
                    }

                    if (sellType == "D") {
                        $("#tableTypeDiv2").hide();
                    } else {
                        $("#tableTypeDiv2").show();
                    }

                    // useTablTypeYn:N / useTableTypeMenuSet:Y 는 테이블 선택 안함
                    $("#tableTypeDiv1").hide();
                    $("#tableTypeDiv2").hide();

                } else {
                    // 전체탭 사용하지 않음 리스트에서 제외
                    sourceTableTypesList = sourceTableTypesList.filter(sourceTableTypesList => sourceTableTypesList != "_ALL_");
                    if (useTableTypeMenuSet == "Y") {
                        let shopMenuItems = [];

                        tables.forEach(function (item, idx) {
                            let menuList = item.menuList;

                            let menuObj = "";
                            if (selectedMenuSetId == '') {
                                selectedMenuSetId = menuList[0].menuSetId;
                                $("#selectedMenuSetId").val(selectedMenuSetId);
                            }
                            menuObj = menuList.filter(menuList => menuList.menuSetId == selectedMenuSetId)[0];

                            // 빈 테이블 타입 체크 (각 테이블 체크)
                            let sellType = menuObj.sellType;
                            let tableType = item.tableType;
                            let additionalType = menuObj.additionalType;
                            $("#additionalType").val(additionalType);

                            if (sellType == 'D') {
                                if (menuObj.menuDepositConfigMeta == null) {
                                    notAvailableTableTypesList.push(tableType);
                                }
                            }

                            if (sellType != 'D') {
                                if (typeof menuObj.shopMenuItems[0] == 'undefined') {
                                    notAvailableTableTypesList.push(tableType);
                                } else {
                                    shopMenuItems.push(menuObj.shopMenuItems[0]);
                                }
                            }

                            // useTableTypeYn:Y / useTableTypeMenuSet:Y 는 additionalType:C 일때만 테이블 선택 노출
                            if (additionalType != "C") {
                                $("#tableTypeDiv2").hide();
                            } else {
                                $("#tableTypeDiv2").show();
                            }

                        });

                        // 빈 테이블 타입 체크 (전체 체크)
                        if (shopMenuItems.length == 0) {
                            emptyTableType = true;
                        } else if (shopMenuItems.length > 0){
                            emptyTableType = false;
                        }
                    }

                }

                newNotAvailableTableTypes = Array.from(new Set(notAvailableTableTypesList));

                if (sourceTableTypesList.length == 0) {
                    $("#tableTypeDiv1").hide();
                    $("#tableTypeDiv2").hide();
                }

                let tableSpan = '';
                let selectCheck = true;

                sourceTableTypesList.forEach(function(item, idx) {

                    let tableCode = langCode == 'ko' ? item : item+"_en";

                    tableSpan = `<li class="frmRadio"><input type="radio" id="table${idx}" name="tableType" data-tableType="${item}"><label for="table${idx}">${sourceTableTypeNames[tableCode]}</label></li>`;

                    if (newNotAvailableTableTypes.includes(item)) {
                        tableSpan = `<li class="frmRadio"><input type="radio" id="table${idx}" name="tableType" data-tableType="${item}" disabled><label for="table${idx}">${sourceTableTypeNames[tableCode]}</label></li>`;
                    }
                    if (emptyTableType) {
                        tableSpan = `<li class="frmRadio"><input type="radio" id="table${idx}" name="tableType" data-tableType="${item}" disabled><label for="table${idx}">${sourceTableTypeNames[tableCode]}</label></li>`;
                    }

                    if (useTableTypeMenuSet == "Y") {
                        $("#tableTypeUl2").append(tableSpan);
                        $("#tableTypeDiv1").hide();

                        if (useTableTypeYn == "N") {
                            // 활성화되어있는 최신 index 선택
                            if (selectCheck == true && $("#table"+idx).attr("disabled") != "disabled") {
                                $("#table"+idx).attr("checked", true);
                                selectCheck = false;
                            }
                            $("#selectedTableType").val(tables[0].tableType);

                        }

                        if (useTableTypeYn == "Y") {
                            // 활성화되어있는 최신 index 선택
                            if (selectCheck == true && $("#table"+idx).attr("disabled") != "disabled") {
                                $("#table"+idx).attr("checked", true);
                                $("#selectedTableType").val($("#table"+idx).attr("data-tableType"));
                                selectCheck = false;
                            }
                        }
                    }

                    if (useTableTypeMenuSet == "N") {
                        $("#tableTypeUl1").append(tableSpan);
                        $("#tableTypeDiv2").hide();

                        // 활성화되어있는 최신 index 선택
                        if (selectCheck == true && $("#table"+idx).attr("disabled") != "disabled") {
                            $("#table"+idx).attr("checked", true);
                            if (selectedTableType == '') {
                                $("#selectedTableType").val($("#table"+idx).attr("data-tableType"));
                            }
                            selectCheck = false;
                        }
                    }

                });
            }

            // 메뉴 세트 그리기
            function fncSelectMenuSet() {
                $("#menuListSelect").html("");

                let selectedTableType = $("#selectedTableType").val();
                let menuList = tables[0].menuList;

                if (menuList.length > 0) {

                    if (selectedTableType != '') {
                        let tableList = tables.filter(tables => tables.tableType == selectedTableType)[0];
                        menuList = tableList.menuList;
                    }

                    // useTableTypeMenuSet:N 일때 테이블 새로 선택할때마다 메뉴 명 첫번째로 세팅
                    if (useTableTypeMenuSet == "N") {
                        $("#menuListSelect").closest('div').find('span').html(langCode == 'ko' ? menuList[0].menuSetName : menuList[0].menuSetNameEn);
                    }

                    $("#selectedMenuSetId").val(menuList[0].menuSetId);

                    let menuListSpan = '';
                    if (menuList.length > 0) {
                        menuList.forEach(function (item, idx) {
                            menuListSpan += `<option name="menuSet" value="${item.menuSetId}">${langCode == 'ko' ? item.menuSetName : item.menuSetNameEn}</option>`
                        });
                    }

                    $("#menuListSelect").append(menuListSpan);
                    $('div[name="menuListDiv"]').show();

                    // 메뉴 리스트가 하나면 메뉴 리스트 숨김
                    if (menuList.length == 1) {
                        $('div[name="menuListDiv"]').hide();
                    }
                }

                // 메뉴 리스트 없으면 메뉴 리스트, 메뉴 아이템 숨김
                if (menuList.length == 0) {
                    $('div[name="menuListDiv"]').hide();
                    $("#menuItemDiv").hide();
                    $("#optionMenuItemDiv").hide();
                }
            }

            // 메뉴 아이템 그리기
            function fncSelectMenuItem() {
                $("#popMenuUl").html("");
                $("#popOptionMenuUl").html("");
                $("#popCalcUl").html("");
                $('em[name="popTotalPrice"]').html(wonReplace(0));

                $("#calcUl").html("");

                let selectedTableType = $("#selectedTableType").val();
                let selectedMenuSetId = $("#selectedMenuSetId").val();
                let additionalType = $("#additionalType").val();

                let menuList = tables[0].menuList;
                let menuObj = "";
                let shopMenuItems = "";

                if (tableTypeIsAll) {

                    if (menuList.length == 1) {
                        menuObj = tables[0].menuList[0];
                    } else if (menuList.length > 1) {
                        menuObj = menuList.filter(menuList => menuList.menuSetId == selectedMenuSetId)[0];
                    }
                    shopMenuItems = menuObj.shopMenuItems;

                }

                if (!tableTypeIsAll) {
                    if (selectedTableType != '') {
                        let tableList = tables.filter(tables => tables.tableType == selectedTableType)[0];
                        menuList = tableList.menuList;
                    }

                    if (selectedMenuSetId != '') {
                        menuObj = menuList.filter(menuList => menuList.menuSetId == selectedMenuSetId)[0];
                    }
                    shopMenuItems = menuObj.shopMenuItems;
                }

                let sellType = menuObj.sellType;
                let menuSelectType = menuObj.menuSelectType;
                $("#sellType").val(sellType);
                $("#menuSelectType").val(menuSelectType);
                let maxAmountType = false; // sellType D이고 maxAmount가 총 예약금보다 작을경우 true

                let popMenuLi = ""; // 메인메뉴 (팝업)
                let popOptionMenuLi = ""; // 추가메뉴 (팝업)
                let popCalcTr = ""; // 선택메뉴 (팝업)
                let calcLi = ""; // 선택메뉴 (화면)

                $("#nTypeGide").hide();

                switch (sellType) {
                    case 'C' :
                        if (shopMenuItems.length > 0) {
                            switch (menuSelectType) {
                                case 'A':
                                    shopMenuItems.forEach(function (item, idx) {
                                        let menuName = langCode == 'ko' ? item.menuName : item.menuNameEn;
                                        let sellPriceDesc = langCode == 'ko' ? item.sellPriceDesc : item.sellPriceDescEn;
                                        let menuDesc = langCode == 'ko' ? item.menuDesc : item.menuDescEn;

                                        popMenuLi += `<li data-menuItemId="${item.menuItemId}" data-price="${item.sellPrice}" data-tableType="${item.tableType}" data-menuType="main">
                                                            <div class="menuSelcet_li">
                                                                <span class="frm type02 txt">`;
                                        if ('' != sellPriceDesc && null != sellPriceDesc) {
                                            popMenuLi += `<span class="badge_txt">${sellPriceDesc}</span>`;
                                        }
                                        popMenuLi += `             <input type="radio" id="set${idx}" class="rdoMenuItem" name="menuItem" onchange="fncMenuRadio(this);"><label for="set${idx}">${menuName}</label>
                                                                </span>
                                                                <span class="price">${wonReplace(item.sellPrice)} KRW</span>
                                                            </div>`;
                                        if (menuDesc != '' && menuDesc != null) {
                                            popMenuLi += `<div class="add_Description">${menuDesc }</div>`;
                                        }
										popMenuLi += `</li>`;
                                        popCalcTr += `<tr class="popMenuList" id="pop_${item.menuItemId}" data-id="${item.menuItemId}" data-tableType="${item.tableType}" data-menuType="main" >
                                                            <th>${langCode == 'ko' ? item.menuName : item.menuNameEn}</th>
                                                            <td class="person">${wonReplace(item.sellPrice)} x <span class="amount">0</span>명</td> <!-- 2명 -->
                                                            <td class="price">KRW <span class="popMenuPrice">0</span></td>
                                                        </tr>`;
                                        calcLi += `<li class="menuList" id="${item.menuItemId}" data-id="${item.menuItemId}"><span class="lfData">${menuName} x </span><span class="amount">0</span><span class="rtData menuPrice">0</span></li>`
                                    });
                                    break;
                                case 'B':
                                    shopMenuItems.forEach(function (item, idx) {
                                        let menuName = langCode == 'ko' ? item.menuName : item.menuNameEn;
                                        let sellPriceDesc = langCode == 'ko' ? item.sellPriceDesc : item.sellPriceDescEn;
                                        let menuDesc = langCode == 'ko' ? item.menuDesc : item.menuDescEn;

                                        // 추가메뉴 구분
                                        if (item.optionMenuYn == "N") {
                                            popMenuLi += `<li data-menuItemId="${item.menuItemId}" data-price="${item.sellPrice}" data-tableType="${item.tableType}" data-fixedPerson="${item.fixedPersonCnt}" data-menuType="main">
                                                                <div class="menuSelcet_li">
                                                                    <span class="txt">`;

                                            if ('' != sellPriceDesc && null != sellPriceDesc) {
                                                popMenuLi += `<span class="badge_txt">${sellPriceDesc}</span>`;

                                            }

                                            if (useNTableType && additionalType == "C" && item.tableType == "N") {
                                                popMenuLi += `<strong class="ico_ampersand"></strong>`;
                                                $("#nTypeGide").show();
                                            }

                                            popMenuLi += `            ${menuName}</span>
                                                                    <span class="price">${wonReplace(item.sellPrice)} KRW</span>
                                                                    <div class="numPeople type02">
                                                                        <button type="button" class="btnDown count" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled">인원 수 감소</button>
                                                                        <span class="personNum" data-count="0">0</span>
                                                                        <button type="button" class="btnUp count" data-prop="up" onclick="fncBtnUpDown(this)">인원 수 증가</button>
                                                                    </div>
                                                                </div>`;
	                                        if (menuDesc != '' && menuDesc != null) {
	                                            popMenuLi += `<div class="add_Description">${menuDesc }</div>`;
	                                        }
										popMenuLi += `</li>`;
                                        } else if (item.optionMenuYn == "Y") {
                                            popOptionMenuLi += `<li data-menuItemId="${item.menuItemId}" data-price="${item.sellPrice}" data-tableType="${item.tableType}" data-menuType="option">
                                                                    <div class="menuSelcet_li">
                                                                        <span class="txt">`;

                                            if ('' != sellPriceDesc && null != sellPriceDesc) {
                                                popOptionMenuLi += `<span class="badge_txt">${sellPriceDesc}</span>`;
                                            }

                                            if (useNTableType && additionalType == "C" && item.tableType == "N") {
                                                popOptionMenuLi += `<strong class="ico_ampersand"></strong>`;
                                                $("#nTypeGide").show();
                                            }

                                            popOptionMenuLi += `        ${menuName}</span>
                                                                        <span class="price">${wonReplace(item.sellPrice)} KRW</span>
                                                                        <div class="numPeople type02">
                                                                            <button type="button" class="btnDown noCount" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled">인원 수 감소</button>
                                                                            <span>0</span>
                                                                            <button type="button" class="btnUp noCount" data-prop="up" onclick="fncBtnUpDown(this)">인원 수 증가</button>
                                                                        </div>
                                                                    </div>`;
	                                        if (menuDesc != '' && menuDesc != null) {
	                                            popOptionMenuLi += `<div class="add_Description">${menuDesc }</div>`;
	                                        }
											popOptionMenuLi += `</li>`;
                                        }
                                        popCalcTr += `<tr class="popMenuList" id="pop_${item.menuItemId}" data-id="${item.menuItemId}" data-tableType="${item.tableType}" data-menuType="${item.optionMenuYn == 'N' ? 'main' : 'option'}" >
                                                            <th>${menuName}</th>
                                                            <td class="person">${wonReplace(item.sellPrice)} x <span class="amount">0</span>명</td> <!-- 2명 -->
                                                            <td class="price">KRW <span class="popMenuPrice">0</span></td>
                                                        </tr>`;
                                        calcLi += `<li class="menuList" id="${item.menuItemId}" data-id="${item.menuItemId}"><span class="lfData">${menuName} x </span><span class="amount">0</span><span class="rtData menuPrice">0</span></li>`
                                    });

                                    break;
                                case 'C':
                                    shopMenuItems.forEach(function (item, idx) {
                                        let menuName = langCode == 'ko' ? item.menuName : item.menuNameEn;
                                        let sellPriceDesc = langCode == 'ko' ? item.sellPriceDesc : item.sellPriceDescEn;
                                        let menuDesc = langCode == 'ko' ? item.menuDesc : item.menuDescEn;

                                        if (item.optionMenuYn == "N") {
                                            popMenuLi += `<li data-menuItemId="${item.menuItemId}" data-price="${item.sellPrice}" data-tableType="${item.tableType}" data-menuType="main">
                                                            <div class="menuSelcet_li">
                                                                <span class="txt">`;

                                            if ('' != sellPriceDesc && null != sellPriceDesc) {
                                                popMenuLi += `<span class="badge_txt">${sellPriceDesc}</span>`;
                                            }

                                            if (useNTableType && additionalType == "C" && item.tableType == "N") {
                                                popMenuLi += `<strong class="ico_ampersand"></strong>`;
                                                $("#nTypeGide").show();
                                            }
                                            popMenuLi += `        ${menuName}</span>
                                                                <span class="price">${wonReplace(item.sellPrice)} KRW</span>
                                                                <div class="numPeople type02">
                                                                    <button type="button" class="btnDown noCount" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled">인원 수 감소</button>
                                                                        <span>0</span>
                                                                    <button type="button" class="btnUp noCount" data-prop="up" onclick="fncBtnUpDown(this)">인원 수 증가</button>
                                                                </div>
                                                            </div>`;
	                                        if (menuDesc != '' && menuDesc != null) {
	                                            popMenuLi += `<div class="add_Description">${menuDesc }</div>`;
	                                        }
											popMenuLi += `</li>`;

                                        } else if (item.optionMenuYn == "Y") {
                                            popOptionMenuLi += `<li data-menuItemId="${item.menuItemId}" data-price="${item.sellPrice}" data-tableType="${item.tableType}" data-menuType="option">
                                                                    <div class="menuSelcet_li">
                                                                        <span class="txt">`;

                                            if ('' != sellPriceDesc && null != sellPriceDesc) {
                                                popOptionMenuLi += `<span class="badge_txt">${sellPriceDesc}</span>`;
                                            }

                                            if (useNTableType && additionalType == "C"  && item.tableType == "N") {
                                                popOptionMenuLi += `<strong class="ico_ampersand"></strong>`;
                                                $("#nTypeGide").show();
                                            }
                                            popOptionMenuLi += `        ${menuName}</span>
                                                                        <span class="price">${wonReplace(item.sellPrice)} KRW</span>
                                                                        <div class="numPeople type02">
                                                                            <button type="button" class="btnDown noCount" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled">인원 수 감소</button>
                                                                                <span>0</span>
                                                                            <button type="button" class="btnUp noCount" data-prop="up" onclick="fncBtnUpDown(this)">인원 수 증가</button>
                                                                        </div>
                                                                    </div>`;
	                                        if (menuDesc != '' && menuDesc != null) {
	                                            popOptionMenuLi += `<div class="add_Description">${menuDesc }</div>`;
	                                        }
											popOptionMenuLi += `</li>`;
                                        }
                                        popCalcTr += `<tr class="popMenuList" id="pop_${item.menuItemId}" data-id="${item.menuItemId}" data-tableType="${item.tableType}" data-menuType="${item.optionMenuYn == 'N' ? 'main' : 'option'}" >
                                                            <th>${menuName}</th>
                                                            <td class="person">${wonReplace(item.sellPrice)} x <span class="amount">0</span>명</td> <!-- 2명 -->
                                                            <td class="price">KRW <span class="popMenuPrice">0</span></td>
                                                        </tr>`;
                                        calcLi += `<li class="menuList" id="${item.menuItemId}" data-id="${item.menuItemId}"><span class="lfData">${menuName} x </span><span class="amount">0</span><span class="rtData menuPrice">0</span></li>`
                                    });
                                    break;
                                default:
                                    break;
                            }
                        }
                        break;
                    case 'D' :
                        if (menuObj.menuDepositConfigMeta != null) {
                            let menuSetName = 'ko' ? menuObj.menuSetName : menuObj.menuSetNameEn
                            let totalPriceSum = Number(personCount) * Number(menuObj.menuDepositConfigMeta.amountPerPerson); // 총 가격 = 인원수 * 인당 메뉴 가격
                            let maxAmount = Number(menuObj.menuDepositConfigMeta.maxAmount);
                            $("#maxAmount").val(menuObj.menuDepositConfigMeta.maxAmount);

                            let totalPrice = totalPriceSum > maxAmount ? maxAmount : totalPriceSum;

                            if (totalPriceSum > maxAmount) {
                                maxAmountType = true;
                            }

                            popCalcTr += `<tr class="popMenuList" id="pop_${menuObj.menuSetId}" data-id="${menuObj.menuSetId}" data-tableType="${menuObj.tableType}" data-menuType="main">
                                                <th>${menuSetName}</th>
                                                <td class="person">${wonReplace(menuObj.menuDepositConfigMeta.amountPerPerson)} x <span class="amount">${personCount}</span>명</td> <!-- 2명 -->
                                                <td class="price">KRW <span class="popMenuPrice">${wonReplace(totalPrice)}</span></td>
                                            </tr>`;
                            calcLi += `<li class="menuList" id="${menuObj.menuSetId}" data-id="${menuObj.menuSetId}"><span class="lfData">${menuSetName} x </span><span class="amount">${personCount}</span><span class="rtData menuPrice">${wonReplace(totalPrice)}</span></li>`
                            $('em[name="popTotalPrice"]').html(wonReplace(totalPrice));
                        }
                        break;
                    default :
                        break;

                }

                // 팝업창
                $("#popMenuUl").append(popMenuLi);
                $("#popOptionMenuUl").append(popOptionMenuLi);
                $("#popCalcUl").append(popCalcTr);
                $("#popCalcUl").show();
                $(".popMenuList").hide();

                // 메인화면
                $("#calcUl").append(calcLi);
                $(".menuList").hide();

                // badge_all class 적용
                if ($("#popMenuUl").find('span .badge_txt').length > 0) {
                    $("#popMenuUl").addClass("badge_all");
                } else {
                    $("#popMenuUl").removeClass("badge_all");
                }

                if ($("#popOptionMenuUl").find('span .badge_txt').length > 0) {
                    $("#popOptionMenuUl").addClass("badge_all");
                } else {
                    $("#popOptionMenuUl").removeClass("badge_all");
                }

                // sellType이 D면 예약금액 리스트 바로 보여주고 메뉴 아이템은 hide
                if (sellType == 'D') {
                    $(".popMenuList").show();

                    $("#menuItemDiv").hide();
                    $("#optionMenuItemDiv").hide();

                    // 총 금액 > 최대금액의 경우 선택현황리스트 안보여줌
                    if (maxAmountType) {
                        $("#popCalcUl").hide();
                    } else {
                        $("#popCalcUl").show();
                    }

                    // 값 없을 경우 매진
                    if (menuObj.menuDepositConfigMeta == null) {
                        emptyMenuSet = true;
                    } else {
                        emptyMenuSet = false;
                    }

                } else {
                    // 메뉴 없는경우 메뉴 아이템 hide
                    if (menuList.length == 0 || shopMenuItems.length == 0) {
                        $("#menuItemDiv").hide();
                        $("#optionMenuItemDiv").hide();
                    } else {
                        $("#menuItemDiv").show();
                        if (popOptionMenuLi != '') {
                            $("#optionMenuItemDiv").show();
                        } else {
                            $("#optionMenuItemDiv").hide();
                        }
                    }

                    // 값 없을 경우 매진
                    if (menuList.length > 1 && shopMenuItems.length == 0) {
                        emptyMenuSet = true;
                    } else {
                        emptyMenuSet = false;
                    }

                }
            }

            fncTableTypeClick(); // 테이블 타입 선택
            fncMenuSetClick(); // 메뉴 세트 선택
            fncMenuTitle(); // 메뉴 제목

            // 테이블 타입 선택
            function fncTableTypeClick() {
                $('input[name="tableType"]').click(function () {

                    let selectedTableType = $(this).attr("data-tableType");

                    if (useTableTypeMenuSet == "Y" && $("#selectedTableType").val() != selectedTableType) {

                        if (useTableTypeYn == "N") {
                            if ($("#selectedMenuSetId").val() == "") {
                                fncSelectMenuSet();
                            }
                        } else {
                            $("#selectedTableType").val(selectedTableType);
                        }
                        fncSelectMenuItem();

                    }
                    if (useTableTypeMenuSet == "N" && $("#selectedTableType").val() != selectedTableType) {
                        $("#selectedTableType").val(selectedTableType);
                        fncSelectMenuSet();
                        fncSelectMenuItem();
                    }

                    if (useTableTypeMenuSet == "N" && useTableTypeYn == "Y") {
                        fncMenuSetClick();
                    }

                    fncMenuTitle();
                    fncNotice(); // 매장 이용규정
                });
            }

            // 메뉴 세트 선택
            function fncMenuSetClick() {
                $("#menuListSelect").on('change', function () {

                    $("#selectedMenuSetId").val($(this).val());

                    if (useTableTypeMenuSet == 'Y') {
                        fncSelectTableType();
                        fncTableTypeClick();
                    }
                    fncSelectMenuItem();

                    if (emptyMenuSet || emptyTableType) {
                        alert("선택하신 메뉴는 매진(Sold Out)되어 예약이 불가 합니다.\n다른 메뉴를 선택해 주시거나 해당 업장에 유선문의 부탁 드립니다."); // 선택하신 메뉴는 매진(Sold Out)되어 예약이 불가 합니다.\n다른 메뉴를 선택해 주시거나 해당 업장에 유선문의 부탁 드립니다.
                        return false;
                    }

                    fncMenuTitle();
                });
            }

            // 메뉴 제목
            function fncMenuTitle() {
                $("#menuTitle").html("");
                $("#amountDiv").show();

                let sellType = $("#sellType").val();
                let menuSelectType = $("#menuSelectType").val();

                let tableTypeDiv1 = $("#tableTypeDiv1").css("display") != "none";
                let tableTypeDiv2 = $("#tableTypeDiv2").css("display") != "none";
                let menuListDiv = $('div[name="menuListDiv"]').css("display") != "none";
                let menuItemDiv = $("#menuItemDiv").css("display") != "none";
                let sellTypeIsD = sellType == "D";

                let menuTitle = "";

                if ((tableTypeDiv1 || tableTypeDiv2) && !menuListDiv && !menuItemDiv && !sellTypeIsD) {
                    menuTitle = "테이블 타입 선택"; // 테이블 타입 선택
                    $("#amountDiv").hide();
                } else if (!tableTypeDiv1 && !tableTypeDiv2 && !menuListDiv && !menuItemDiv && sellTypeIsD) {
                    menuTitle = "예약금"; // 예약금
                } else if (!tableTypeDiv1 && !tableTypeDiv2 && !menuListDiv && menuItemDiv && !sellTypeIsD) {
                    menuTitle = "메뉴 선택"; // 메뉴 선택
                } else if ((tableTypeDiv1 || tableTypeDiv2) && !menuListDiv && !menuItemDiv && sellTypeIsD) {
                    menuTitle = "테이블 타입 & 예약금"; // 테이블 타입 & 예약금
                } else if ((tableTypeDiv1 || tableTypeDiv2) && !menuListDiv && menuItemDiv && !sellTypeIsD) {
                    menuTitle = "테이블 타입 & 메뉴 선택"; // 테이블 타입 & 메뉴 선택
                } else if (!tableTypeDiv1 && !tableTypeDiv2 && menuListDiv && !menuItemDiv && sellTypeIsD) {
                    menuTitle = "세트 & 예약금"; // 세트 & 예약금
                } else if (!tableTypeDiv1 && !tableTypeDiv2 && menuListDiv && menuItemDiv && !sellTypeIsD) {
                    menuTitle = "세트 & 메뉴 선택"; // 세트 & 메뉴 선택
                } else if (!tableTypeDiv1 && tableTypeDiv2 && menuListDiv && menuItemDiv && !sellTypeIsD) {
                    menuTitle = "세트 & 테이블 타입 & 메뉴 선택"; // 세트 & 테이블 타입 & 메뉴 선택
                } else if (!tableTypeDiv1 && tableTypeDiv2 && menuListDiv && !menuItemDiv && !sellTypeIsD) { // 메뉴아이템 없는경우
                    menuTitle = "세트 & 테이블 타입 & 메뉴 선택"; // 세트 & 테이블 타입 & 메뉴 선택
                } else if ((tableTypeDiv1 || tableTypeDiv2) && menuListDiv && !menuItemDiv && sellTypeIsD) {
                    menuTitle = "테이블 타입 & 세트 & 예약금"; // 테이블 타입 & 세트 & 예약금
                } else if ((tableTypeDiv1 || tableTypeDiv2) && menuListDiv && menuItemDiv && !sellTypeIsD) {
                    menuTitle = "테이블 타입 & 세트 & 메뉴 선택"; // 테이블 타입 & 세트 & 메뉴 선택
                } else if ((tableTypeDiv1 || tableTypeDiv2) && menuListDiv && !menuItemDiv && !sellTypeIsD) { // 메뉴아이템 없는 경우
                    menuTitle = "테이블 타입 & 세트 & 메뉴 선택"; // 테이블 타입 & 세트 & 메뉴 선택
                } else {
                    menuTitle = "메뉴 선택"; // 메뉴 선택
                }

                $("#menuTitle").html(menuTitle);

                // 메뉴타입별 설명
                let menuDesc = "";
                let priceDesc = "";
                switch (sellType) {
                    case 'C' :
                        switch (menuSelectType) {
                            case 'A':
                                menuDesc = "메뉴명(메뉴가격), 메뉴별 예약금 확인 후 공통메뉴 택1(체크) 해주세요."; // 메뉴명(메뉴가격), 메뉴별 예약금 확인 후 공통메뉴 택1(체크) 해주세요.
                                priceDesc = "메뉴별 예약금 x 총 예약인원"; // 메뉴별 예약금 X 총 예약인원
                                break;
                            case 'B':
                                menuDesc = "메뉴명(메뉴가격) 메뉴별 예약금 확인 후 총 방문인원 수만큼 입력해 주세요."; //메뉴명(메뉴가격) 메뉴별 예약금 확인 후 총 방문인원 수만큼 입력해 주세요.
                                priceDesc = "메뉴별 예약금 x 총 예약인원"; // 메뉴별 예약금 X 총 예약인원
                                break;
                            case 'C':
                                menuDesc = "예약하시고자 하는 메뉴를 1개 이상 선택해 주세요."; // 예약하시고자 하는 메뉴를 1개 이상 선택해 주세요.
                                priceDesc = "메뉴별 예약금 X 선택메뉴"; //메뉴별 예약금 X 선택메뉴
                                break;
                        }
                        break;
                    case 'D' :
                        menuDesc = "";
                        priceDesc = "예약금 X 총 예약인원"; // 예약금 X 총 예약인원
                        break;
                    default :
                        break;
                }

                $("#menuDesc").html(menuDesc);
                $("#priceDesc").html(priceDesc);

                // 수동 확정 매장 여부 문구
                if (confirmReservationUseYn == "Y") {
                    $("#manualInfoWrap").show();
                } else {
                    $("#manualInfoWrap").hide();
                }

            }

            // 메장 이용규정
            function fncNotice() {
                if (tables.length > 0) {

                    let selectedTableType = $("#selectedTableType").val();
                    let tableList = "";

                    if (selectedTableType != '') {
                        tableList = tables.filter(tables => tables.tableType == selectedTableType)[0];
                    } else {
                        tableList = tables[0];
                    }

                    let notice = tableList.notice;

                    if (notice == null) {
                        $("#noticeArea").hide();
                        $("#noticeTitle").hide();
                        $("#frmA02").attr("checked", true);

                        $("#descDiv").empty();
                    }

                    if (notice != null) {

                        let noticeList = "";
                        let desc = "";

                        if (langCode == "ko") {
                            noticeList = notice.list;
                            desc = notice.desc;
                        }
                        if (langCode != "ko") {
                            noticeList = notice.listEn;
                            desc = notice.descEn;
                        }

                        // 매장 이용규정
                        if (noticeList != null) {
                            let noticeLi = "";
                            noticeList.forEach(function (item, idx) {
                                noticeLi += `<li>${item}</li>`;
                            });
                            $("#noticeUl").html(noticeLi);
                        }

                        // 유의사항
                        if (desc == null || desc == "") {
                            $("#descDiv").empty();
                        } else {
                            let descList = desc.split("\n");
                            let descLi = "";
                            descList.forEach(function (item, idx) {
                                descLi += `<li>${item}</li>`;
                            });
                            $("#descUl").html(descLi);
                        }

                    }
                    $("#noticeUl").closest(".customScrollBox").removeClass("customScrollBox");
                    commonJs.initDesignScroll($('.scrollWrap'));
                }
            }

            fncNotice();
            fncHoldingTimer(); // 타이머 시작
        }

        // 팝업 열기
        if ($("#selectedTableType").val() != '' || $("#selectedMenuSetId").val() != '' || $("#sellType").val() != ''|| $("#menuSelectType").val() != '') {
            commonJs.popShow($("#menuPop"));
        }
    }

    // 테이블 명 변환
    function fncTranceTableTypeNm(tableTypeCode) {

        let itemNm = "";
        switch (tableTypeCode) {
            case '_ALL_': itemNm = "전체"; break; // 전체
            case 'H': itemNm = "홀"; break; // 홀
            case 'R': itemNm = "룸"; break; // 룸
            case 'T': itemNm = "테라스"; break; // 테라스
            case 'B': itemNm = "바"; break; // 바
            case 'W': itemNm = "창가"; break; // 창가
            case 'N': itemNm = "미지정"; break; // 미지정
            case 'H#': itemNm = "별도 테이블"; break; // 별도 테이블
            default: break;
        }
        return itemNm;
    }

    // 메뉴 선택 완료
    function fncCompleteMenuSelect() {
        let sellType = $("#sellType").val();
        let menuSelectType = $("#menuSelectType").val();
        let mainCnt = 0;
        let personCount = Number($("#personCount").val()); // 전체 인원
        let priceSum = Number($("#totalAmount").val());
        let menuSetId = $("#selectedMenuSetId").val();

        if (emptyMenuSet || emptyTableType) {
            alert("선택하신 메뉴는 매진(Sold Out)되어 예약이 불가 합니다.\n다른 메뉴를 선택해 주시거나 해당 업장에 유선문의 부탁 드립니다."); // 선택하신 메뉴는 매진(Sold Out)되어 예약이 불가 합니다.\n다른 메뉴를 선택해 주시거나 해당 업장에 유선문의 부탁 드립니다.
            return;
        }

        let selectedMenus = [];
        $(".popMenuList").each(function(index,item){
            let items = {};
            let isSelected = $(this).css("display") != "none";
            let menuType = $(this).attr("data-menuType");
            let menuItemTableType = $(this).attr("data-tableType");
            let menuItemId = $(this).attr("data-id");
            let amount = Number($(this).find(".amount").html());

            if (isSelected && menuType == "main") {
                mainCnt++;
            }
            if (amount != 0 && isSelected) {
                $("#"+menuItemId).show();

                items.menuSetId = menuSetId;
                items.menuItemId = menuItemId;
                items.amount = amount;
                selectedMenus.push(JSON.stringify(items));
            }
        });

        if (sellType == '' && menuSelectType == '') {
            commonJs.popClose($("#menuPop"));
        } else {
            if (mainCnt == 0) {
                alert("메인메뉴를 1개 이상 선택 해 주세요."); // 메인메뉴를 1개 이상 선택 해 주세요.
	            return false;
            } else {
                if (sellType == "C" && menuSelectType == "B") {
                    // 선택중인 총 인원 합
                    let personSum = 0;
                    $('.personNum').each(function(index,item){
                        personSum += Number($(this).attr("data-count"));
                    });

                    if (personSum == personCount) {
                        commonJs.popClose($("#menuPop"));
                    } else {
                        alert("방문인원 1인당 1메뉴를 선택해 주세요."); // 1인 1메뉴 선택 필수입니다.
	                    return false;
                    }
                } else {
                    commonJs.popClose($("#menuPop"));
                }

                if (sellType == "D") {
                    priceSum = $(".popMenuPrice").html().replaceAll(',', '');
                    $("#totalAmount").val(priceSum);
                }

                $('em[name="totalPrice"]').html(wonReplace(priceSum));

            }
        }
        selectedMenus = "["+selectedMenus.toString()+"]";
        $("#selectedMenus").val(selectedMenus);

        fncBtnNoPay();
        fncCatchDiningInfo();
    }

    // 메뉴 선택 라디오 버튼
    function fncMenuRadio(inputEl) {
        let input = $(inputEl);
        let li = input.closest('li'); // 부모li에 menuItemId, sellPrice 담고있음
        let menuItemId = li.attr("data-menuItemId");
        let menuPrice = Number(li.attr("data-price"));
        let personCount = Number($("#personCount").val()); // 전체 인원

        // 예약금액
        $(".rdoMenuItem").each(function (item, idx) {
            let itemId = $(this).closest('li').attr("data-menuItemId");
            if ($(this).is(":checked")) {

                // 팝업 결제금 계산 부분 Li에 각 메뉴 수, 금액 추가
                $("#pop_"+menuItemId).find('span.amount').html(personCount);
                $("#pop_"+menuItemId).find('span.popMenuPrice').html(wonReplace(personCount * menuPrice));

                // 화면 결제금 계산 부분 Li에 각 메뉴 수, 금액 추가
                $("#"+menuItemId).find('span.amount').html(personCount);
                $("#"+menuItemId).find('span.menuPrice').html(wonReplace(personCount * menuPrice));

                $("#pop_"+itemId).show();

            } else {
                $("#pop_"+itemId).hide();

                $("#pop_"+itemId).find('span.amount').html(0);
                $("#pop_"+itemId).find('span.popMenuPrice').html(0);

                $("#"+itemId).find('span.amount').html(0);
                $("#"+itemId).find('span.menuPrice').html(0);
            }
        });


        $('em[name="popTotalPrice"]').html(wonReplace(personCount * menuPrice));
        $("#totalAmount").val(Number(personCount * menuPrice));
    }

    // 메뉴 수량 up down 버튼
    function fncBtnUpDown(btnEl) {
        let btn = $(btnEl);
        let li = btn.closest('li'); // 부모li에 menuItemId, sellPrice 담고있음
        let menuItemId = li.attr("data-menuItemId");
        let tableType = li.attr("data-tableType");
        let menuType = li.attr("data-menuType"); // 메인메뉴, 추가메뉴 구분
        let fixedPersonCnt = Number(li.attr("data-fixedPerson")); // 메뉴 고정 인원
        let menuPrice = Number(li.attr("data-price"));

        let className = btn.attr("data-prop"); // up, down 확인
        let personCount = Number($("#personCount").val()); // 전체 인원
        let selectedTableType = $("#selectedTableType").val();
        let useTableTypeYn = $("#useTableTypeYn").val();
        let useTableTypeMenuSet = $("#useTableTypeMenuSet").val();
        let additionalType = $("#additionalType").val();
        let tableTypeIsAll = useTableTypeYn == "N" && useTableTypeMenuSet == "Y";

        let count = 0; // 해당 메뉴 인원
        let mainCnt = 0; // 선택 메인 메뉴 수
        let optionCnt = 0; // 선택 옵션 메뉴 수
        let nTypeCnt = 0; // 선택 미지정 메뉴 수

        $(".popMenuList").each(function(index,item){
            let isSelected = $(this).css("display") != "none";;
            let menuListMenuType = $(this).attr("data-menuType");
            let menuItemTableType = $(this).attr("data-tableType");

            if (additionalType == "C") {
                if (isSelected && menuItemTableType != "N" && menuListMenuType == "main") {
                    mainCnt++;
                    return;
                }

                if (isSelected && menuItemTableType == "N" && menuListMenuType == "main") {
                    nTypeCnt++;
                    return;
                }
            } else {
                if (isSelected && menuListMenuType == "main") {
                    mainCnt++;
                    return;
                }
            }

            if (isSelected && menuListMenuType == "option") {
                optionCnt++;
                return;
            }
        });

        if (className == "down") {
            count = Number(btn.next().html());
            count--;
            count = count < 0 ? 0 : count;

            // 버튼 disabled 처리
            if (count > 0) {
                btn.attr("disabled", false);
            } else {
                let condition;

                if (additionalType == "C") {
                    condition = mainCnt == 1 && menuType == "main" && tableType != "N";
                } else {
                    condition = mainCnt == 1 && menuType == "main";
                }

                if (condition) {
                    // 추가메뉴 단독 선택 불가
                    if (optionCnt > 0) {
                        alert("메인메뉴 선택없이 추가메뉴를 선택할 수 없습니다."); // 추가메뉴 선택 시 최소 1개 이상의 동일 테이블 메인 메뉴를 선택 해야 합니다.
                        count++;
                        return false;
                    }
                    // 미지정 메뉴 단독선택 불가
                    if (nTypeCnt > 0) {
                        alert("&표시가 있는 메뉴는 단독으로 선택할 수 없습니다."); // 단독 선택 불가 메뉴가 선택되어 있습니다.
                        count++;
                        return false;
                    }

                }

                btn.attr("disabled", true);
            }

            btn.next().html(count);
            btn.next().attr("data-count", count * fixedPersonCnt);

        } else if (className == "up") {

            if (additionalType == "C") {
                if (mainCnt == 0 && (menuType == 'option' || tableType == "N")) {
                    alert("메인메뉴를 1개 이상 선택 해 주세요."); // 메인메뉴를 1개 이상 선택 해 주세요.
                    return false;
                }
            } else {
                if (mainCnt == 0 && menuType == 'option') {
                    alert("메인메뉴를 1개 이상 선택 해 주세요."); // 메인메뉴를 1개 이상 선택 해 주세요.
                    return false;
                }
            }

            count = Number(btn.prev().html());
            count++;
            btn.prev().html(count);
            btn.prev().attr("data-count", count * fixedPersonCnt);

            // 선택중인 총 인원 합
            let personSum = 0;
            $('.personNum').each(function(index,item){
                personSum += Number($(this).attr("data-count"));
            });

            if (fixedPersonCnt > 1) {
                if ((personCount - personSum) < 0) {
                    alert("다(多)인 메뉴의 합은 총 방문인원을 넘을 수 없습니다."); // 다(多)인 메뉴의 합은 총 방문인원을 넘을 수 없습니다.
                    count--;
                    btn.prev().html(count);
                    btn.prev().attr("data-count", count * fixedPersonCnt);
                }
            }

            // 버튼 disabled 처리
            if (count > 0) {
                btn.parent('div').find('button.btnDown').attr("disabled", false);
            } else {
                btn.parent('div').find('button.btnDown').attr("disabled", true);
            }
        }

        // 선택중인 총 인원 합
        let personSum = 0;
        $('.personNum').each(function(index,item){
            personSum += Number($(this).attr("data-count"));
        });

        // 버튼 비활성화 처리
        if (personCount == personSum) {
            $(".btnUp.count").attr("disabled", true);
        } else if (personSum == 0) {
            $(".btnUp.count").attr("disabled", false);
            $(".btnDown.count").attr("disabled", true);
        } else {
            $(".btnUp.count").attr("disabled", false);
        }

        // 결제금 계산 부분 Li에 각 메뉴 수, 금액 추가
        $("#pop_"+menuItemId).find('span.amount').html(count);
        $("#pop_"+menuItemId).find('span.popMenuPrice').html(wonReplace(count * menuPrice));

        $("#"+menuItemId).find('span.amount').html(count);
        $("#"+menuItemId).find('span.menuPrice').html(wonReplace(count * menuPrice));

        // 예약금액
        if (count > 0) {
            $("#pop_"+menuItemId).show();
        } else if (count == 0) {
            $("#pop_"+menuItemId).hide();
        }

        // 총 결제 예약금 계산
        let priceSum = 0;
        $('.popMenuPrice').each(function(index,item){
            priceSum += Number($(this).html().replaceAll(",", ""));
        });

        $('em[name="popTotalPrice"]').html(wonReplace(priceSum));
        $("#totalAmount").val(priceSum);
    }

    // 전화번호 인증
    function fncAllimTalkSendPhone() {

        let moblphoneTelno = $("#inp_moblphonTelno").val();
        let moblphoneTelno1 = $("#inp_moblphonTelno1").val();
        let moblphoneTelno2 = $("#inp_moblphonTelno2").val();

        if (moblphoneTelno == '' || moblphoneTelno1 == '' || moblphoneTelno2 == '') {
            alert("전화번호 형식이 맞지 않습니다. 전화번호를 확인해 주세요."); // 전화번호를 정확하게 입력해 주세요.
            $("#inp_moblphonTelno").focus();
            return ;
        }

        jQuery.ajax({
            type : "POST",
            url : "/auth/number/sms/send.json",
            cache : false,
            dataType : "json",
            async : false,
            data : {
                phoneNumber : moblphoneTelno + moblphoneTelno1 + moblphoneTelno2
            },
            global : false,
            beforeSend: function() {
                commonJs.showLoadingBar(); //로딩바 show
            },
            complete: function() {
                commonJs.closeLoadingBar(); //로딩바 hide
            },
            success : function(data) {
                alert(data.resultMsg);
                if (data.isSuccess == "true") {
                    clearInterval(timer);
                    fncAllimTalckTimer(data.expiresTime);
                    $("#checkPhoneNum").show();
                } else {
                    clearInterval(timer);
                    $("#checkPhoneNum").hide();
                }
            },
            error : function (data) {
                alert(data.resultMsg);
            }

        });
    }

    // 이메일 인증
    function fncAllimTalkSendEmail() {

        let bookerEmail = $("#inp_bookerEmail").val() != '' && $("#inp_bookerEmail1").val() != '' ? $("#inp_bookerEmail").val() + "@" + $("#inp_bookerEmail1").val() : '';

        if ($("#inp_bookerEmail").val() == '' || $("#inp_bookerEmail1").val() == '') {
            alert("이메일을 정확하게 입력해 주세요."); // 이메일을 정확하게 입력해 주세요.
            $("#inp_bookerEmail").focus();
            return ;
        }

        if(bookerEmail != '' && !gfncVaildateEmail(bookerEmail)){
            alert("이메일 형식이 맞지 않습니다. 이메일 주소를 확인해 주세요."); // 이메일 형식이 잘못되었습니다
            $("#bookerEmail").focus();
            return ;
        }

        jQuery.ajax({
            type : "GET",
            url : "/auth/number/email/send.json",
            cache : false,
            dataType : "json",
            async : false,
            data : {
                email : bookerEmail
            },
            global : false,
            beforeSend: function() {
                commonJs.showLoadingBar(); //로딩바 show
            },
            complete: function() {
                commonJs.closeLoadingBar(); //로딩바 hide
            },
            success : function(data) {
                alert(data.resultMsg);
                if (data.isSuccess == "true") {
                    clearInterval(timer);
                    fncAllimTalckTimer(data.expiresTime);
                    $("#checkEmail").show();
                } else {
                    clearInterval(timer);
                    $("#checkEmail").hide();
                }
            },
            error : function (data) {
                alert(data.resultMsg);
            }

        });

    }

    // 인증번호 확인
    function fncAllimTalkVerifyPhone() {

        let moblphoneTelno = nvl($("#inp_moblphonTelno").val());
        let moblphoneTelno1 = nvl($("#inp_moblphonTelno1").val());
        let moblphoneTelno2 = nvl($("#inp_moblphonTelno2").val());
        let allimTalkVerify = $("#allimTalkVerifyPhone").val();

        if (allimTalkVerify == '') {
            alert("인증번호를 정확하게 입력해 주세요."); // 인증번호를 정확하게 입력해 주세요.
        } else {

            $("#checkPhoneNum").show();

            jQuery.ajax({
                type : "GET",
                url : "/auth/number/sms/verify.json",
                cache : false,
                dataType : "json",
                async : false,
                global : false,
                data : {
                    phoneNumber : moblphoneTelno + moblphoneTelno1 + moblphoneTelno2,
                    authNum : allimTalkVerify
                },
                beforeSend: function() {
                    commonJs.showLoadingBar(); //로딩바 show
                },
                complete: function() {
                    commonJs.closeLoadingBar(); //로딩바 hide
                },
                success : function(data) {
                    alert(data.resultMsg);
                    if (data.resultCode == '00') {
                        $("#moblphonTelno").val(moblphoneTelno);
                        $("#moblphonTelno1").val(moblphoneTelno1);
                        $("#moblphonTelno2").val(moblphoneTelno2);
                        $("#allimTalkVerifyPhone").val("");
                        $("#checkPhoneNum").hide();
                        snsValidation = true;
                    }
                },
                error : function (data) {
                    alert(data.resultMsg);
                }
            });
        }
    }

    // 이메일 인증번호 확인
    function fncAllimTalkVerifyEmail() {

        let bookerEmail = $("#inp_bookerEmail").val() != '' && $("#inp_bookerEmail1").val() != '' ? $("#inp_bookerEmail").val() + "@" + $("#inp_bookerEmail1").val() : '';
        let allimTalkVerify = $("#allimTalkVerifyEmail").val();

        if (allimTalkVerify == '') {
            alert("인증번호를 정확하게 입력해 주세요.");  // 인증번호를 정확하게 입력해 주세요.
        } else {
            $("#checkEmail").show();

            jQuery.ajax({
                type : "GET",
                url : "/auth/number/email/verify.json",
                cache : false,
                dataType : "json",
                async : false,
                global : false,
                data : {
                    email : bookerEmail,
                    authNum : allimTalkVerify
                },
                beforeSend: function() {
                    commonJs.showLoadingBar(); //로딩바 show
                },
                complete: function() {
                    commonJs.closeLoadingBar(); //로딩바 hide
                },
                success : function(data) {
                    alert(data.resultMsg);
                    if (data.resultCode == '00') {
                        $("#bookerEmail").val(bookerEmail);
                        $("#allimTalkVerifyEmail").val("");
                        $("#checkEmail").hide();
                        snsValidation = true;
                    }
                },
                error : function (data) {
                    alert(data.resultMsg);
                }
            });
        }
    }

    // 방문자 사용 미사용 refresh
    function fncDiffVisitorRefresh() {
        let check = $("#inp_isDiffVisitorBooker").closest("li").hasClass("toggleOn");
        if (!check) {

            $("#inp_phone").val("");
            $("#inp_phone1").val("");
            $("#inp_phone2").val("");
            $("#inp_visitorEmail").val("");
            $("#inp_visitorEmail1").val("");

            if (langCode != 'ko') {
                $("#visitorLastName").val("");
                $("#visitorFirstName").val("");
                $("#visitorNationality").val("");
                $("#visitorNationality").next().find('span[class="ui-selectmenu-text"]').html("국가 코드");
            } else {
                $("#inp_visitorName").val("");
            }
        }
    }

    // 예약
    function fncReservation() {
        let useTableTypeYn = nvl($("#useTableTypeYn").val());
        let useTableTypeMenuSet = nvl($("#useTableTypeMenuSet").val());

        if (useTableTypeYn == 'N' && useTableTypeMenuSet == 'N') {
            $("#selectedTableType").val('');
        }

        
        let bookerLastName = $("#bookerLastName").val();
        let bookerFirstName = $("#bookerFirstName").val();
        let bookerName = "";

        // 인증받은 번호
        let moblphonTelnoCkd = $("#moblphonTelno").val();
        let moblphonTelnoCkd1 = $("#moblphonTelno1").val();
        let moblphonTelnoCkd2 = $("#moblphonTelno2").val();
        // 현재 입력되어있는 번호
        let moblphoneTelno = $("#inp_moblphonTelno").val();
        let moblphoneTelno1 = $("#inp_moblphonTelno1").val();
        let moblphoneTelno2 = $("#inp_moblphonTelno2").val();

        // 국가코드
        let bookerNationality = $("#bookerNationality").val();

        // 인증받은 이메일
        let bookerEmailCkd = nvl($("#bookerEmail").val());
        // 현재 입력되어있는 이메일
        let bookerEmail = $("#inp_bookerEmail").val() != '' && $("#inp_bookerEmail1").val() != '' ? $("#inp_bookerEmail").val() + "@" + $("#inp_bookerEmail1").val() : '';

        if (langCode == "ko") {
            bookerName = $("#inp_bookerName").val();

            if (moblphonTelnoCkd != moblphoneTelno || moblphonTelnoCkd1 != moblphoneTelno1 || moblphonTelnoCkd2 != moblphoneTelno2) {
                snsValidation = false;
            } else if (typeof moblphonTelnoCkd != 'undefined' && typeof moblphonTelnoCkd1 != 'undefined' && typeof moblphonTelnoCkd2 != 'undefined') {
                if (moblphonTelnoCkd == moblphoneTelno && moblphonTelnoCkd1 == moblphoneTelno1 && moblphonTelnoCkd2 == moblphoneTelno2) {
                    snsValidation = true;
                }
            }
        } else if (langCode != "ko") {
            bookerName = bookerLastName + " " + bookerFirstName;
            moblphoneTelno = bookerNationality + moblphoneTelno;

            if (bookerEmailCkd != bookerEmail) {
                snsValidation = false;
            } else if (typeof bookerEmailCkd != 'undefined') {
                if (bookerEmailCkd == bookerEmail) {
                    snsValidation = true;
                }
            }
        }

        

        let requests = $("#inp_requests").val();
        let isDiffVisitorBooker = $("#inp_isDiffVisitorBooker").closest("li").hasClass("toggleOn");
        let notice = $("#frmA02");
        let refund = $("#frmA04");
        let personal = $("#frmA03");

        let visitorPhone = "";
        let visitorName = "";
        let visitorEmail = "";
        if (langCode == 'ko') {
            visitorPhone = $("#inp_phone").val()+$("#inp_phone1").val()+$("#inp_phone2").val();
            visitorName = $("#inp_visitorName").val();
        } else {
            visitorEmail = $("#inp_visitorEmail").val() != '' && $("#inp_visitorEmail1").val() != '' ? $("#inp_visitorEmail").val() + "@" + $("#inp_visitorEmail1").val() : '';
            visitorPhone = $("#visitorNationality").val()+$("#inp_phone").val()+$("#inp_phone1").val()+$("#inp_phone2").val();
            visitorName = $("#visitorLastName").val() + " " + $("#visitorFirstName").val();
        }

        

        if (langCode == "ko") {
            // 예약자 명 입력 검증
            if (bookerName == '') {
                alert("예약자명을 입력해 주세요."); // 예약자명은 필수 입니다
                $("#inp_bookerName").focus();
                return ;
            }

            // 전화번호 입력 검증
            if (moblphoneTelno == '' || moblphoneTelno1 == '' || moblphoneTelno2 == '') {
                alert("예약자 전화번호를 입력해 주세요."); // 예약자 전화번호는 필수 입니다
                $("#inp_moblphonTelno").focus();
                return ;
            }

            // 전화번호 인증 검증
            if (!snsValidation) {
                alert("인증번호 요청 버튼을 누르고 전화번호 인증을 해주세요."); // 전화번호 인증을 해주세요
                $("#inp_moblphonTelno").focus();
                return ;
            }

            // 이메일 입력 검증
            if (($("#inp_bookerEmail").val() != '' && $("#inp_bookerEmail1").val() == '') ||
                ($("#inp_bookerEmail").val() == '' && $("#inp_bookerEmail1").val() != '')) {
                alert("이메일 형식이 맞지 않습니다. 이메일 주소를 확인해 주세요."); // 이메일 형식이 잘못되었습니다
                $("#inp_bookerEmail").focus();
                return ;
            }

        } else if (langCode != "ko") {
            // 예약자 명 입력 검증
            if (bookerLastName == '' || bookerFirstName == '') {
                alert("이름을 정확히 입력해주세요."); // 이름을 정확히 입력해주세요.
                $("#bookerLastName").focus();
                return ;
            }

            // 전화번호 입력 검증
            if (bookerNationality == '' && (moblphoneTelno != '' || moblphoneTelno1 != '' || moblphoneTelno2 != '')) {
                alert("국가코드를 선택해 주세요."); // 국가코드를 선택해주세요.
                $("#inp_moblphonTelno").focus();
                return ;
            }

            // 전화번호 입력 검증
            if (bookerNationality != '' && (moblphoneTelno == '' || moblphoneTelno1 == '' || moblphoneTelno2 == '')) {
                alert("전화번호를 올바르게 입력해 주세요."); // 전화번호를 올바르게 입력해 주세요.
                $("#inp_moblphonTelno").focus();
                return ;
            }

            // 이메일 입력 검증
            if ($("#inp_bookerEmail").val() == '' || $("#inp_bookerEmail1").val() == '') {
                alert("예약자 이메일은 필수입니다."); // 예약자 이메일은 필수입니다.
                $("#inp_bookerEmail").focus();
                return ;
            }

            // 이메일 인증 검증
            if (!snsValidation) {
                alert("이메일 검증을 해주세요"); // 이메일 검증을 해주세요
                $("#inp_bookerEmail").focus();
                return ;
            }
        }

        //이메일 형식 검증
        if(bookerEmail != '' && !gfncVaildateEmail(bookerEmail)){
            alert("이메일 형식이 맞지 않습니다. 이메일 주소를 확인해 주세요."); // 이메일 형식이 잘못되었습니다
            $("#inp_bookerEmail").focus();
            return ;
        }

        $("#bookerName").val(bookerName);
        $("#moblphonTelno").val(moblphoneTelno);
        $("#moblphonTelno1").val(moblphoneTelno1);
        $("#moblphonTelno2").val(moblphoneTelno2);
        $("#bookerEmail").val(bookerEmail);

        

        // 예약자 방문자 다른경우
        if (isDiffVisitorBooker) {

            if (langCode == 'ko') {
                // 방문자 명 입력 검증 (필수)
                if (visitorName == '') {
                    alert("방문자명을 입력해 주세요."); // 방문자명은 필수 입니다
                    $("#inp_visitorName").focus();
                    return ;
                }

                // 방문자 전화번호 입력 검증 (필수)
                if ($("#inp_phone").val() == '' || $("#inp_phone1").val() == '' || $("#inp_phone2").val() == '') {
                    alert("방문자 전화번호를 입력해 주세요."); // 방문자 전화번호는 필수 입니다
                    $("#inp_phone").focus();
                    return ;
                }

            } else if (langCode != 'ko') {

                let visitorNationality = $("#visitorNationality").val();

                // 방문자 명 입력 검증 (필수)
                if ($("#visitorLastName").val() == '' || $("#visitorFirstName").val() == '') {
                    alert("방문자명을 입력해 주세요."); // 방문자명은 필수 입니다
                    $("#visitorLastName").focus();
                    return ;
                }

                // 방문자 이메일 검증 (필수)
                if ($("#inp_visitorEmail").val() == '' || $("#inp_visitorEmail1").val() == '') {
                    alert("방문자 이메일을 입력해 주세요."); // 방문자 이메일은 필수입니다.
                    $("#inp_visitorEmail").focus();
                    return;
                }

                //이메일 형식 검증 (필수)
                if(visitorEmail != '' && !gfncVaildateEmail(visitorEmail)){
                    alert("이메일 형식이 맞지 않습니다. 이메일 주소를 확인해 주세요."); // 이메일 형식이 잘못되었습니다
                    $("#inp_visitorEmail").focus();
                    return ;
                }

                // 전화번호 입력 검증 (비필수)
                if (visitorNationality == '' && ($("#inp_phone").val() != '' || $("#inp_phone1").val() != '' || $("#inp_phone2").val() != '')) {
                    alert("국가코드를 선택해 주세요."); // 국가코드를 선택해주세요.
                    $("#inp_phone").focus();
                    return ;
                }
                // 전화번호 입력 검증 (비필수)
                if (visitorNationality != '' && ($("#inp_phone").val() == '' || $("#inp_phone1").val() == '' || $("#inp_phone2").val() == '')) {
                    alert("전화번호를 올바르게 입력해 주세요."); // 전화번호를 올바르게 입력해 주세요.
                    $("#inp_phone").focus();
                    return;
                }

            }

        }

        // 유의사항 체크 검증
        if (!notice.is(":checked")) {
            alert("매장 이용규정에 동의해 주세요."); // 매장 이용규정에 동의해 주세요
            notice.focus();
            return ;
        }

        // 환불규정 체크 검증
        if (!refund.is(":checked")) {
            alert("취소 및 환불 규정에 동의해 주세요."); // 취소 및 환불 규정에 동의해 주세요
            refund.focus();
            return ;
        }

        // 개인정보 동의 체크 검증
        if (!personal.is(":checked")) {
            alert("예약에 필요한 개인정보의 수집과 이용에 동의해 주세요.") // 개인정보 수집 · 이용에 동의해 주세요
            personal.focus();
            return ;
        }

        $("#requests").val(requests);
        $("#isDiffVisitorBooker").val(isDiffVisitorBooker);
        $("#visitorName").val(visitorName);
        $("#visitorPhone").val(visitorPhone);
        $("#visitorEmail").val(visitorEmail);
        paymentPopup();

    }

    // 결제 팝업 validation alert
    function fncViewAlert(resultMsg) {
        alert(resultMsg);
    }

    // 결제 팝업
    function paymentPopup() {

        let options = 'top=10, left=10, width=375, height=812, status=no, menubar=no, toolbar=no, resizable=no';
        let popup = window.open("", "reserve", options);
        if (!popup || popup.closed || typeof popup.closed == "undefined") {
	        alert("팝업이 차단되었습니다. 팝업 차단 해제 후 다시 시도해주세요.");
            return false;
        }
        $("#form").attr("action", "/resve/dining.do");
        $("#form").attr("target", "reserve");
        $("#form").attr("method", "POST");
        $("#form").submit();
    }

    // holding timer
    function fncHoldingTimer() {
        var expiresTime = $("#holdingExpiresAt").val();
        var date = new Date(expiresTime);
        var today = new Date();
        var time = ((date - today) / 1000);

        var x = setInterval(function() {
            today = new Date();
            time = ((date - today) / 1000);
            let min = parseInt(time/60);
            let sec = parseInt(time % 60);

            let timer = sec < 10 ? (min+":"+"0"+sec) : (min+":"+sec);
            $('span[name="holdingTimer"]').html(timer);

            if (time < 0) {
                clearInterval(x);
                $('span[name="holdingTimer"]').html("0:00");
                $('strong[name="timerText"]').html("시간만료, 좌석상황에 따라 예약이 어려울 수 있습니다."); //시간만료, 좌석상황에 따라 예약이 어려울 수 있습니다.
            }

        }, 1000);
    }

    // allimTalck timer
    function fncAllimTalckTimer(expiresTime) {
        let date = new Date(expiresTime);
        let today = new Date();

        let time = ((date - today) / 1000);

        timer = setInterval(function() {
            today = new Date();
            time = ((date - today) / 1000);
            fncTimeLayout(time);

            if (time < 0) {
                clearInterval(timer);
                $('span[name="allimTalkTimer"]').html("0:00");
            }

        }, 1000);
    }

    function fncTimeLayout(time) {
        let min = parseInt(time/60);
        let sec = parseInt(time % 60);

        let timer = sec < 10 ? (min+":"+"0"+sec) : (min+":"+sec);
        $('span[name="allimTalkTimer"]').html(timer);

    }

    // 예약, 결제 구분
    function fncBtnNoPay() {
        let totalAmount = Number($("#totalAmount").val());

        if (totalAmount == 0) {
            $("#btnResve").html("예약"); // 예약
            $("#refundDesc").hide();
        } else if (totalAmount > 0) {
            $("#btnResve").html("결제하기"); // 결제하기
        }
    }

    // 예약 holding취소
    function fncHoldingCancel() {
        return new Promise(function (resolve, reject) {
            jQuery.ajax({
                type : "GET",
                url : "/resve/dining/holding/cancel.json",
                cache : false,
	            data : {
                    "holdingToken" : jQuery("#holdingToken").val()
	            },
                dataType : "json",
                async : false,
                global : false,
                beforeSend: function() {
                    commonJs.showLoadingBar(); //로딩바 show
                },
                complete: function() {
                    commonJs.closeLoadingBar(); //로딩바 hide
                },
                success : function(data){
                    resolve(data);
                }});
        });

    }

    async function fncGoStep0() {
        let result = confirm("이전, 뒤로가기, 새로고침 시 진행된 예약이 초기화 됩니다. \n진행하시겠습니까?"); // 이전으로 돌아가시면 모든 예약이 취소됩니다.\n돌아가시겠습니까?
        if (result) {
            let searchSysCode = $("#searchSysCode").val();
            let diningCode = $("#diningCode").val();
            let data = await fncHoldingCancel();

            if (typeof data.result.resultCode != "undefined") {
                if (data.result.resultCode == "CANCEL") {
                    location.href = "/resve/dining/step0.do?searchSysCode="+searchSysCode+"&diningCode="+diningCode ;
                }
            } else {
                location.href = "/resve/dining/step0.do?searchSysCode="+searchSysCode+"&diningCode="+diningCode ;
            }
        } else {
            return false;
        }
    }

    function nvl(str, newStr){
        if(isNull(str)||isUndefined(str)){
            return newStr;
        }else {
            return str;
        }
    }

    function isNull(value){
        var _chkStr = value+"";
        if(_chkStr == "" || _chkStr == null || _chkStr == "null"){
            return true;
        }else {
            return false;
        }
    }

    function isUndefined(value){
        if(typeof(value) == undefined || typeof(value) == "undefined" || value == "undefined" || value == undefined){
            return true;
        }else{
            return false;
        }
    }

    function wonReplace(n) {
        return String(n).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    }

    function fncNationNum() {
        let nationCodeNm = $("#nationCodeNm").html();
        let nationCodeNmStr = nationCodeNm.replace(/\([^)]*\)/g, '');
        $("#nationCodeNm").html(nationCodeNmStr);
    }



	window.addEventListener('message', function(e) {
		//fbevents.js 에러로 객체 메세지 수신 가능성 있으므로, 예약 번호인 String 타입으로 받음
		if(typeof e.data == "string"){
            console.log(e.origin);
			//메세지 origin 체크
			if(checkOrigin(e.origin)){
				fncGoComplete(e.data);
			}else {
				fncGoComplete(e.data);
			}
		}
	});

    function checkOrigin(origin){
        /*const devDomain = "";*/
        const josunhotelDomain = "https://josunhotel.com";
        const josunhotelwwwDomain = "https://www.josunhotel.com";
        const appDomain = "https://app.josunhotel.com";
        //2022-12-29 현재 조선호텔 개발서버로 redirect 받지 못하여 임시로 bw 로컬로 받도록 함
        const localDomain = "http://1.214.35.20:8080";

        if(origin === josunhotelDomain
            || origin === josunhotelwwwDomain
            || origin === appDomain
            || origin === localDomain){
            return true;
        }
        return false;
    }
    //예약 팝업에서 성공시 실행되는 함수
    function fncGoComplete(reservationId) {
        location.href = "/resve/dining/complete.do?reservationId="+reservationId;
    }

    function fncTranceText() {
        $("#personCntTitle").html('방문인원 총 {1}명'.replace('{1}', $("#personCount").val()));
        $("#nTypeGide").html('{1}표시가 있는 메뉴는 단독으로 선택이 되지 않습니다.'.replace('{1}', `<strong class="ico_ampersand"></strong>`));
    }

</script>
<form id="form" name="form">
    <input type="hidden" id="searchSysCode" name="searchSysCode" value="TWC">
    <input type="hidden" id="diningCode" name="diningCode" value="003">
    <input type="hidden" id="searchLangCode" name="searchLangCode" value="">

    <input type="hidden" id="shopId" name="shopId" value="pQUWDMHkPf2II_uVDPCFFQ">
    <input type="hidden" id="holdingExpiresAt" name="holdingExpiresAt" value="2024-06-15T23:47:55.039130695+09:00">
    <input type="hidden" id="confirmUseYn" name="confirmUseYn" value="N">
    <input type="hidden" id="personCount" name="personCount" value="3">
    <input type="hidden" id="visitDate" value="2024.06.21(금)">

    <input type="hidden" id="holdingToken" name="holdingToken" value="Q1VkuLLkyMxjgrS5CTi29g">
    <input type="hidden" id="reservationToken" name="reservationToken" value="H4sIAAAAAAAA_wFQAa_-X972XazmaJkRQFsN-eJ7kXjHfmvZIKHgB7pZhvfyrVB6A-dEAOsuYR0A5CAetFkE7Q9fnM0i-YHoVDnCrwVLQMrW0qcsnlqthDW6kJRcL4Igtx4fA3LEi_XcJhLbk32xXGb5eXDkYhP9BkhfNrv2BeY2dGV3K19PifgU937swWrGOGcPfWPokNSEerMfYOIM4TQBDdGC_hrpZo199nIiXRWqhXfeKvOgcphOqG_FyoKdcA6bptDGumt0w0fosO3_3bGM_B6h7kOAG8D3X3u-KIQVhZf1DfWYU8t9bZ-B9XifuCSuf2__Ipg7suu7-WLbLEhhsaHkaE1A9MDwgIKpfmAfyqbCQvYPQc67HO6Nrhy8tr9P3FjNqaf_sWOkbvR3uyGTFIdGaPKUAIzSQPuzvO5lYmioiy_AtnCgg6WNiFFC5Y_w3EYFEjJRHeYPuDjMP17w3VABAAA=">
    <input type="hidden" id="bookerName" name="bookerName" value="">
    <input type="hidden" id="bookerEmail" name="bookerEmail" value="">
    <input type="hidden" id="bookerNationalCode" name="bookerNationalCode" value="">
    <input type="hidden" id="moblphonTelno" name="moblphonTelno" value="">
    <input type="hidden" id="moblphonTelno1" name="moblphonTelno1" value="">
    <input type="hidden" id="moblphonTelno2" name="moblphonTelno2" value="">
    <input type="hidden" id="isDiffVisitorBooker" name="isDiffVisitorBooker" value="">
    <input type="hidden" id="requests" name="requests" value="">
    <input type="hidden" id="visitorName" name="visitorName" value="">
    <input type="hidden" id="visitorNationalCode" name="visitorNationalCode" value="">
    <input type="hidden" id="visitorPhone" name="visitorPhone" value="">
    <input type="hidden" id="visitorEmail" name="visitorEmail" value="">
    <input type="hidden" id="selectedMenus" name="selectedMenus" value="[{&quot;menuSetId&quot;:&quot;BBg9ONqfJAzE-wJ6TxdRBA&quot;,&quot;menuItemId&quot;:&quot;OnfHDUAzSnW_9cpfS9jRpA&quot;,&quot;amount&quot;:3}]">
    <input type="hidden" id="selectedTableType" name="selectedTableType" value="">

    <input type="hidden" id="selectedMenuSetId" name="selectedMenuSetId" value="BBg9ONqfJAzE-wJ6TxdRBA">
    <input type="hidden" id="sellType" name="sellType" value="C">
    <input type="hidden" id="menuSelectType" name="menuSelectType" value="B">
    <input type="hidden" id="useTableTypeYn" name="useTableTypeYn" value="N">
    <input type="hidden" id="useTableTypeMenuSet" name="useTableTypeMenuSet" value="N">
    <input type="hidden" id="additionalType" name="additionalType" value="">
    <input type="hidden" id="maxAmount" name="maxAmount" value="">
    <input type="hidden" id="totalAmount" name="totalAmount" value="60000">
    <div id="container" class="container" style="">
        <!-- 컨텐츠 S -->
        <h1 class="hidden">예약정보 상세</h1><!-- 예약정보 상세 -->
        <div class="topArea">
            <div class="topInner">
                <h2 class="titDep1">Booking</h2>
                <p class="pageGuide">조선호텔앤리조트의 다이닝과 함께 차원이 다른 미식을 경험해 보세요.</p><!-- 조선호텔앤리조트의 다이닝과 함께 차원이 다른 미식을 경험해 보세요. -->
                <div class="stepWrap">
                    <ol>
                        <li class="prev"><em>날짜, 시간, 인원 선택</em></li><!-- 날짜, 시간, 인원 선택 -->
                        <li class="on"><span class="hidden">현재단계</span><em>예약정보 상세</em></li><!-- 예약정보 상세 -->
                    </ol>
                </div>
            </div>
        </div>
        <!-- //topArea -->
        <div class="inner">
            <div class="drDining_st03">
                <div class="chkValue"><span>웨스틴 조선 서울<!--  그랜드 조선 부산 --></span><span>ARIA <!-- The Ninth Gate --></span></div>
                <div class="chkValue_prev">
                    <div class="leftInfo">
                        <span>2024.06.21(금) <!-- 2022.10.27(금) --></span>
                        <span>오후 12:30 <!-- 오전 10:00 --></span>
                        <span id="personCntTitle">방문인원 총 3명</span>
                    </div>
                    <div class="rightInfo">
                        <strong name="timerText">시간만료, 좌석상황에 따라 예약이 어려울 수 있습니다.</strong><!-- 시간 내 예약을 완료해 주세요 -->
                        <span class="chkTime" id="holdingTimer" name="holdingTimer">0:00</span>
                    </div>
                </div>
                <!-- rsvRoomWrap -->
                <div class="rsvRoomWrap">
                    <div class="lCont">
                        <div class="rsvDingList">
                            <strong class="listTit">예약자 정보 입력</strong><!-- 예약자 정보 입력 -->
                            <ul class="intList">
                            
                            
                                <li>
                                    <div class="intWrap top">
											<span class="tit">
												<label for="inp_bookerName">RESERVATION NAME</label>
												<span class="essential">필수</span>
											</span>
                                    </div>
                                    <div class="intInner">
											<span>
												<input type="text" id="inp_bookerName" placeholder="성함(국문)을 입력해주세요." style="width:437px" aria-required="true" onkeyup="this.value=this.value.replace(/\s/g, '');" maxlength="20"><!-- 이름 -->
											</span>
                                    </div>
                                </li>
                                <li>
                                    <div class="intWrap">
											<span class="tit">
												<label for="inp_moblphonTelno">PHONE NUMBER</label>
												<span class="essential">필수</span>
											</span>
                                    </div>
                                    <div class="intInner phoneInp verifiCode">
                                        <span class="intArea"><input type="text" class="bookerPhone" id="inp_moblphonTelno" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="3"></span>
                                        <span class="dash"></span>
                                        <span class="intArea"><input type="text" class="bookerPhone" id="inp_moblphonTelno1" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="4"></span>
                                        <span class="dash"></span>
                                        <span class="intArea"><input type="text" class="bookerPhone" id="inp_moblphonTelno2" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="4"></span>
                                        <span class="btnArea"><a href="javascript:void(0)" class="btnSC btnL verifiCodeBtn" onclick="fncAllimTalkSendPhone();">인증번호 요청</a></span><!-- 인증번호 요청 -->
                                    </div>
                                    <!-- 인증번호 확인창  -->
                                    <div class="verifiCode" id="checkPhoneNum" style="display: none">
											<span class="intArea">
												<input id="allimTalkVerifyPhone" type="text" style="width:349px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]/g, '');" maxlength="4">
												<span class="vertifiTime" name="allimTalkTimer">0:00</span>
											</span>
                                        <span class="btnArea"><a href="javascript:void(0)" class="btnSC btnL active verifiCodeBtn" onclick="fncAllimTalkVerifyPhone();">인증번호 확인</a></span><!-- 인증번호 확인 -->
                                    </div>
                                    <!-- // 인증번호 확인창  -->
                                    <p class="txtGuide">예약을 하시려면 휴대폰 번호 인증이 필요합니다.</p><!-- 예약을 하시려면 휴대폰 번호 인증이 필요합니다. -->
                                    <p class="txtGuide">휴대폰 번호는 예약번호 전송에 사용됩니다.</p><!-- 휴대폰 번호는 예약번호 전송에 사용됩니다. -->
                                    <p class="txtGuide">비회원의 경우 휴대폰 번호 인증을 통해 예약이 진행되며, 휴대폰 인증이 불가할 경우 유선 예약 부탁드립니다.</p><!-- 비회원의 경우 휴대폰 번호 인증을 통해 예약이 진행되며, 휴대폰 인증이 불가할 경우 유선 예약 부탁드립니다. -->
                                </li>
                                <li>
                                    <div class="intWrap">
											<span class="tit">
												<label for="inp_bookerEmail">E-MAIL</label><!-- 221209 필수삭제 -->
											</span>
                                    </div>
                                    <div class="intInner emailInp">
                                        <span><input type="text" id="inp_bookerEmail" style="width:273px" aria-required="true" maxlength="50"></span>
                                        <span class="dash">@</span>
                                        <span><input type="text" id="inp_bookerEmail1" inp_bookeremail1="" style="width:273px" aria-required="true" maxlength="50"></span>
                                        <div class="intArea selectWrap" style="width:241px" first="true">
                                            <!-- 직접 선택 -->
                                            <select name="emailType" id="emailType" class="form-control" title="booker" style="display: none;"><option value="">직접 선택</option><option value="naver.com">naver.com</option><option value="hanmail.net">hanmail.net</option><option value="hotmail.com">hotmail.com</option><option value="nate.com">nate.com</option><option value="gmail.com">gmail.com</option></select><button tabindex="0" id="emailType-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="emailType-menu" aria-haspopup="true" title="booker" class="ui-selectmenu-button ui-selectmenu-button-closed ui-corner-all ui-button ui-widget" type="button"><span class="ui-selectmenu-text">직접 선택</span></button>
                                        <div class="ui-selectmenu-menu ui-front"><div class="tweenDiv"><ul aria-hidden="true" aria-labelledby="emailType-button" id="emailType-menu" role="listbox" tabindex="0" class="ui-menu ui-corner-bottom ui-widget ui-widget-content" style="max-height: 200px;"></ul></div></div></div>
                                    </div>
                                </li>
                            

                            
                            

                            
                                <!-- 230104 request 위치재변경 -->
                                <!-- 221202 request 위치변경 -->
                                <li>
                                    <div class="intWrap">
                                        <span class="tit">
                                            <label for="inp_requests">REQUEST</label><!-- 221209 필수삭제 -->
                                        </span>
                                    </div>
                                    <div class="intInner requestArea">
                                        <!-- 알레르기가 있다면, 예약 시 미리 말씀해 주십시오. 유아용품이 필요하신 경우 여기에 기재해 주십시오. -->
                                        <input id="inp_requests" maxlength="100" type="text" placeholder="알레르기가 있다면, 예약 시 미리 말씀해 주십시오. 유아용품이 필요하신 경우 여기에 기재해 주십시오.">
                                    </div>
                                    <!-- 요청사항을 최대한 반영하도록 최선을 다하겠습니다.<br/>다만, 호텔의 사정으로 부득이 반영되지 않을 수도 있으니 이 점 양해 부탁드립니다. -->
                                    <p class="txtGuide">요청사항을 최대한 반영하도록 최선을 다하겠습니다.<br>다만, 호텔의 사정으로 부득이 반영되지 않을 수도 있으니 이 점 양해 부탁드립니다.</p>
                                </li>
                                <!-- // 221202 request 위치변경 -->
                                <!--//  230104 request 위치재변경 -->
                            </ul>
                        </div>

                        <div class="notiContainer">
                            <div>
                                <ul class="toggleList agreeCont toggleListAll">
                                    <li>
                                        <div class="clickBtn">
												<span class="frm type03 btnToggle" onclick="fncDiffVisitorRefresh();">
													<input type="checkbox" id="inp_isDiffVisitorBooker" class="type03Chk"><label class="label" for="">[선택] 예약자와 방문자가 다릅니다.</label><!-- [선택] 예약자와 방문자가 다릅니다. -->
												</span>
                                        </div>
                                        <!-- 예약자와 실제 방문자가 다를 경우에만 체크 후 추가 입력해 주세요. -->
                                        <p class="txtGuide">예약자와 실제 방문자가 다를 경우에만 체크 후 추가 입력해 주세요.</p>
                                        <div class="toggleCont" style="display: none;">
                                            <div class="visitorWrap">
                                                <strong class="listTit">방문자 정보 입력</strong><!-- 방문자 정보 입력 -->
                                                
                                                    
                                                        <ul class="intList">
                                                            <li>
                                                                <div class="intWrap top">
																<span class="tit">
																	<label for="inp_visitorName">NAME</label>
																	<span class="essential">필수</span>
																</span>
                                                                </div>
                                                                <div class="intInner">
																<span>
																	<input type="text" id="inp_visitorName" placeholder="성함(국문)을 입력해주세요." style="width:437px" aria-required="true" onkeyup="this.value=this.value.replace(/\s/g, '');" maxlength="20"><!-- 이름 -->
																</span>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div class="intWrap">
																<span class="tit">
																	<label for="inp_phone">PHONE NUMBER</label>
																	<span class="essential">필수</span>
																</span>
                                                                </div>
                                                                <div class="intInner phoneInp">
                                                                    <span class="intArea"><input type="text" id="inp_phone" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="3"></span>
                                                                    <span class="dash"></span>
                                                                    <span class="intArea"><input type="text" id="inp_phone1" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="4"></span>
                                                                    <span class="dash"></span>
                                                                    <span class="intArea"><input type="text" id="inp_phone2" style="width:145px" aria-required="true" onkeyup="this.value=this.value.replace(/[^\d\ ]|\s/g, '');" maxlength="4"></span>
                                                                </div>
                                                            </li>
                                                            <!-- 221209 방문자 이메일 삭제 -->
                                                        </ul>
                                                    
                                                    
                                                

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="titDep3" id="noticeTitle">매장 이용규정</h3><!-- 매장 이용규정 -->
                                <ul class="toggleList agreeCont" id="noticeArea">
                                    <li class="toggleOn">
											<span class="frm type02">
												<input type="checkbox" id="frmA02"><label for="frmA02">[필수] 매장 이용규정에 동의 합니다.</label><!-- [필수] 매장 이용규정에 동의 합니다. -->
											</span>
                                        <button type="button" class="btnToggle"><span class="hidden">상세내용 보기</span></button>
                                        <!-- 버튼 클릭 시 li에 toggleOn 클래스 추가되면서 toggleCont 펼쳐짐 -->
                                        <div class="toggleCont" style="display: block;">
                                            <div class="toggleInner">
                                                <div class="designScroll"><div class="scrollWrap" style=""><div class="customScrollBox">
                                                    <ul class="listDep1" id="noticeUl"><li>당일 취소 및 노쇼(예약 시간 기준 30분 경과) 시 추후 예약이 제한됩니다.</li><li>예약 시간 30분 경과 시 자동 예약 취소됩니다.</li><li>예약금에 대한 환불 규정 확인 후 결제 진행 부탁 드립니다.</li><li>예약금은 서비스 이용 후 전액 자동 환불됩니다.</li><li>좌석 지정은 어려우며 예약하신 순서대로 자동 배정됩니다.</li><li>예약인원 외 현장에서 영유아, 어린이 동반 방문 시, 좌석 배치가 어려울 수 있습니다.</li><li>방문 전 주류 및 콜키지 규정 확인 부탁드립니다.</li></ul>
                                                </div></div></div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <h3 class="titDep3">취소 환불 규정</h3><!-- 221209 타이틀 추가 -->
                                <!--  221207 취소규정 추가 -->
                                <ul class="toggleList agreeCont"><!-- 221209 style 삭제 -->
                                    <li class="toggleOn">
											<span class="frm type02">
												<input type="checkbox" id="frmA04"><label for="frmA04">[필수] 취소 및 환불 규정에 동의합니다</label><!-- [필수] 취소 및 환불 규정에 동의합니다. -->
											</span>
                                        <button type="button" class="btnToggle"><span class="hidden">상세내용 보기</span></button>
                                        <!-- 버튼 클릭 시 li에 toggleOn 클래스 추가되면서 toggleCont 펼쳐짐 -->
                                        <div class="toggleCont" style="display: block;">
                                            <div class="toggleInner">
                                                <div class="designScroll"><div class="scrollWrap" style=""><div class="customScrollBox">
                                                    <ul class="listDep1" id="refundUl"><li>노쇼 시 : 환불 불가</li><li>당일 취소 : 환불 불가</li><li>1일 전 취소 : 50% 환불</li><li>2일 전 취소 : 100% 환불</li></ul>
                                                </div></div></div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <!-- // 221207 취소규정 추가 -->
                            </div>
                            <div>
                                <h3 class="titDep3">개인정보 수집 · 이용 동의</h3><!-- 개인정보 수집 &middot; 이용 동의 -->
                                <ul class="toggleList agreeCont">
                                    <li class="toggleOn">
											<span class="frm type02">
                                                <input type="checkbox" id="frmA03"><label for="frmA03">[필수] 개인정보 수집 · 이용에 동의합니다.</label><!-- [필수]  개인정보 수집 &middot; 이용에 동의합니다. -->
											</span>
                                        <button type="button" class="btnToggle"><span class="hidden">상세내용 보기</span></button>
                                        <!-- 버튼 클릭 시 li에 toggleOn 클래스 추가되면서 toggleCont 펼쳐짐 -->
                                        <div class="toggleCont" style="display: block;">
                                            <div class="toggleInner">
                                                <!-- 221207 정보방침 수정 -->
                                                <pg message="">
                                                    </pg><table class="tblH">
                                                    <colgroup>
                                                        <col style="width:30%">
                                                        <col style="width:auto">
                                                        <col style="width:30%">
                                                    </colgroup>
                                                    <caption>개인정보 수집 이용 목록</caption><!-- 개인정보 수집 이용 목록 -->
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">수집 항목</th><!-- 수집 항목 -->
                                                        <th scope="col">수집 목적</th><!-- 수집 목적 -->
                                                        <th scope="col">보유 기간</th><!-- 보유 기간 -->
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td>이름, 휴대폰번호, 이메일주소</td><!-- 이름, 휴대폰번호, 이메일주소 -->
                                                        <td>서비스 이용자 식별, 서비스 이행을 위한 연락 및 안내, 고지사항 전달, 불만처리 등의 의사소통</td><!-- 서비스 이용자 식별, 서비스 이행을 위한 연락 및 안내, 고지사항 전달, 불만처리 등의 의사소통 -->
                                                        <td class="f18">최종 이용일부터 1년</td><!-- 최종 이용일부터 1년 -->
                                                    </tr></tbody>
                                                </table>
                                                <!-- // 221207 정보방침 수정 -->
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <!-- 221207 가이드변경 및 위치변경 -->
                                <!-- 위 개인정보 수집/이용에 대한 동의를 거부할 수 있으나 동의 거부 시 영업장 예약이 제한됩니다. -->
                                <p class="txtGuide">위 개인정보 수집/이용에 대한 동의를 거부할 수 있으나 동의 거부 시 영업장 예약이 제한됩니다.</p>
                                <!-- //221207 가이드변경 및 위치변경 -->
                            </div>
                            <div id="descDiv">
                                <div class="boxNotice">
                                    <h3 class="titDep3">유의사항</h3><!-- 유의 사항 -->
                                    <ul id="descUl"><li>* 클럽 조선 멤버십,제휴 카드 등 제휴사 할인 혜택은 내부 정책에 따라 이용이 제한될 수 있으며 방문 전 관련 상세 안내 및 이용 약관을 확인해 주시기 바랍니다.</li><li>[할인 혜택 공통 제외일 : 5/5, 12/24, 12/25,12/31]</li></ul>
                                </div>
                            </div>
                        </div><!-- // notiContainer -->
                    </div>
                    <div class="rCont floating" style="transition: margin-top 0.3s ease-out 0s;">
                        <ul class="rsvList">
                            <li>
                                <strong class="listTit">
                                    총 예약금액<!-- 총 예약금액 -->
                                    <span class="price"><em name="totalPrice">60,000</em>KRW</span>
                                </strong>
                                <div class="toggleCont">
                                    <div class="toggleInner">
                                        <div class="optionTotal">
                                            <ul class="infoData" id="calcUl"><li class="menuList" id="OnfHDUAzSnW_9cpfS9jRpA" data-id="OnfHDUAzSnW_9cpfS9jRpA" style=""><span class="lfData">성인 x </span><span class="amount">3</span><span class="rtData menuPrice">60,000</span></li><li class="menuList" id="l0ljPCWyuLp73646rTZU3w" data-id="l0ljPCWyuLp73646rTZU3w" style="display: none;"><span class="lfData">어린이 x </span><span class="amount">0</span><span class="rtData menuPrice">0</span></li><li class="menuList" id="kvUt09mqm8fXUfrdeA_1wA" data-id="kvUt09mqm8fXUfrdeA_1wA" style="display: none;"><span class="lfData">36개월 이하 x </span><span class="amount">0</span><span class="rtData menuPrice">0</span></li></ul>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class="totalCont">
                            <div class="totalPrice">
                                <span class="txt">총 예약금액</span><!-- 총 예약금액 -->
                                <span class="price"><em name="totalPrice">60,000</em>KRW</span>
                            </div>
                            <div class="btnArea">
                                <a href="javascript:void(0)" class="btnSC btnL active" id="btnResve" onclick="fncReservation();">결제하기</a><!-- 결제하기 -->
                            </div>
                        </div>
                        <p class="txtReference" id="refundDesc" style="">06월 19일 23시 59분까지 취소 시 예약금 100% 환불</p>
                    </div>
                </div><!-- //rsvRoomWrap -->
                <div class="btnArea">
                    <a href="javascript:void(0);" class="btnSC btnL" onclick="fncGoStep0();">이전</a><!-- 이전 -->
                </div>

            </div><!--  // drDining_st03 -->
        </div>
        <!-- //inner -->
        <!-- 컨텐츠 E -->
    </div>
    <!-- //container -->
</form>

<!-- 메뉴선택 Layer -->
<div id="menuPop" class="layerPop diningSelectPop" style="display: none;">
    <div class="layerCont" tabindex="" style="top: 50%; left: 50%; margin-top: -428.235px; margin-left: -540px;" data-gtm-vis-recent-on-screen36519946_61="104" data-gtm-vis-first-on-screen36519946_61="104" data-gtm-vis-total-visible-time36519946_61="100" data-gtm-vis-has-fired36519946_61="1">
        <div class="compTit" data-gtm-vis-has-fired36519946_61="1">
            <span id="menuTitle" data-gtm-vis-has-fired36519946_61="1">메뉴 선택</span>
            
            <div class="rightInfo" data-gtm-vis-has-fired36519946_61="1">
                <strong name="timerText" data-gtm-vis-has-fired36519946_61="1">시간만료, 좌석상황에 따라 예약이 어려울 수 있습니다.</strong><!-- 시간 내 예약을 완료해 주세요 -->
                <span class="chkTime" name="holdingTimer" data-gtm-vis-has-fired36519946_61="1">0:00</span>
            </div>
        </div>
        <div class="compLayer dnSelectScroll" data-gtm-vis-has-fired36519946_61="1">
            <!-- 221230 수동예약 인벤토리일 경우 문구 출력 -->
            <div class="manualInfoWrap" id="manualInfoWrap" style="display:none;" data-gtm-vis-has-fired36519946_61="1">
                <div class="txtWrap" data-gtm-vis-has-fired36519946_61="1">
                    <strong data-gtm-vis-has-fired36519946_61="1">다이닝 업장의 좌석 확인이 필요한 예약이며, 예약확정까지 다소 시간이 소요됩니다.</strong><!-- 다이닝 업장의 좌석 확인이 필요한 예약이며, 예약확정까지 다소 시간이 소요됩니다. -->
                    <div class="order_txt" data-gtm-vis-has-fired36519946_61="1">① 예약신청 &gt; ② 업장 예약 가능 여부 확인 &gt; ③ 예약확정</div><!-- ① 예약신청 > ② 예약 가능 여부 확인 > ③ 예약확정 -->
                    <p class="txtGuide" data-gtm-vis-has-fired36519946_61="1">예약 진행 과정은 알림톡/SMS로 안내해 드립니다.</p><!-- 예약 진행 과정은 알림톡/SMS로 안내 드립니다. -->
                </div>
            </div>
            <!-- // 221230 수동예약 인벤토리일 경우 문구 출력 -->
            <!--  선택타입 15 - 테이블선택  -->
            <div class="dnSelectBox" id="tableTypeDiv1" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                <h2 class="boxTit" data-gtm-vis-has-fired36519946_61="1">테이블 선택</h2><!-- 테이블 선택 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <ul class="frmList" id="tableTypeUl1" data-gtm-vis-has-fired36519946_61="1"></ul>
                </div>
            </div>
            <!-- //  선택타입 15 - 테이블선택  -->
            <div class="dnSelectBox" name="menuListDiv" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                <h2 class="boxTit sSelects" data-gtm-vis-has-fired36519946_61="1">세트 선택</h2><!-- 세트 선택 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <div class="selectWrap" style="width:487px" first="true" data-gtm-vis-has-fired36519946_61="1">
                        <select id="menuListSelect" data-height="150px" data-direction="down" aria-required="true" style="display: none;" data-gtm-vis-has-fired36519946_61="1"><option name="menuSet" value="BBg9ONqfJAzE-wJ6TxdRBA" data-gtm-vis-has-fired36519946_61="1">일반 예약</option></select><button tabindex="0" id="menuListSelect-button" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-owns="menuListSelect-menu" aria-haspopup="true" class="ui-selectmenu-button ui-selectmenu-button-closed ui-corner-all ui-button ui-widget" type="button" data-gtm-vis-has-fired36519946_61="1"><span class="ui-selectmenu-text" data-gtm-vis-has-fired36519946_61="1">일반 예약</span></button>
                    <div class="ui-selectmenu-menu ui-front" data-gtm-vis-has-fired36519946_61="1"><div class="tweenDiv" data-gtm-vis-has-fired36519946_61="1"><ul aria-hidden="true" aria-labelledby="menuListSelect-button" id="menuListSelect-menu" role="listbox" tabindex="0" class="ui-menu ui-corner-bottom ui-widget ui-widget-content" style="max-height: 150px;" data-gtm-vis-has-fired36519946_61="1"></ul></div></div></div>
                </div>
            </div>
            <div class="dnSelectBox" id="tableTypeDiv2" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                <h2 class="boxTit" data-gtm-vis-has-fired36519946_61="1">테이블 선택</h2><!-- 테이블 선택 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <ul class="frmList" id="tableTypeUl2" data-gtm-vis-has-fired36519946_61="1"></ul>
                </div>
            </div>
            <div class="dnSelectBox" id="menuItemDiv" data-gtm-vis-has-fired36519946_61="1">
                <!-- 230112 &메뉴 가이드설명 -->
                <!-- 메뉴 선택 --><!-- 표시가 있는 메뉴는 단독으로 선택이 되지 않습니다. -->
                <h2 class="boxTit" data-gtm-vis-has-fired36519946_61="1">메뉴 선택<span class="smallTxt" id="nTypeGide" style="display: none;" data-gtm-vis-has-fired36519946_61="1"><strong class="ico_ampersand" data-gtm-vis-has-fired36519946_61="1"></strong>표시가 있는 메뉴는 단독으로 선택이 되지 않습니다.</span><span class="hidden" data-gtm-vis-has-fired36519946_61="1">타입02</span></h2>
                <!-- // 230112 &메뉴 가이드설명 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <ul class="menuSelcet type02 badge_all" id="popMenuUl" data-gtm-vis-has-fired36519946_61="1"><li data-menuitemid="OnfHDUAzSnW_9cpfS9jRpA" data-price="20000" data-tabletype="N" data-fixedperson="1" data-menutype="main" data-gtm-vis-has-fired36519946_61="1">
                                                                <div class="menuSelcet_li" data-gtm-vis-has-fired36519946_61="1">
                                                                    <span class="txt" data-gtm-vis-has-fired36519946_61="1"><span class="badge_txt" data-gtm-vis-has-fired36519946_61="1">위 결제금액은 예약금입니다.</span>            성인</span>
                                                                    <span class="price" data-gtm-vis-has-fired36519946_61="1">20,000 KRW</span>
                                                                    <div class="numPeople type02" data-gtm-vis-has-fired36519946_61="1">
                                                                        <button type="button" class="btnDown count" data-prop="down" onclick="fncBtnUpDown(this);" data-gtm-vis-has-fired36519946_61="1">인원 수 감소</button>
                                                                        <span class="personNum" data-count="3" data-gtm-vis-has-fired36519946_61="1">3</span>
                                                                        <button type="button" class="btnUp count" data-prop="up" onclick="fncBtnUpDown(this)" data-gtm-vis-has-fired36519946_61="1" disabled="disabled">인원 수 증가</button>
                                                                    </div>
                                                                </div></li><li data-menuitemid="l0ljPCWyuLp73646rTZU3w" data-price="0" data-tabletype="N" data-fixedperson="1" data-menutype="main" data-gtm-vis-has-fired36519946_61="1">
                                                                <div class="menuSelcet_li" data-gtm-vis-has-fired36519946_61="1">
                                                                    <span class="txt" data-gtm-vis-has-fired36519946_61="1">            어린이</span>
                                                                    <span class="price" data-gtm-vis-has-fired36519946_61="1">0 KRW</span>
                                                                    <div class="numPeople type02" data-gtm-vis-has-fired36519946_61="1">
                                                                        <button type="button" class="btnDown count" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled" data-gtm-vis-has-fired36519946_61="1">인원 수 감소</button>
                                                                        <span class="personNum" data-count="0" data-gtm-vis-has-fired36519946_61="1">0</span>
                                                                        <button type="button" class="btnUp count" data-prop="up" onclick="fncBtnUpDown(this)" data-gtm-vis-has-fired36519946_61="1" disabled="disabled">인원 수 증가</button>
                                                                    </div>
                                                                </div><div class="add_Description" data-gtm-vis-has-fired36519946_61="1">37개월 이상 12세 이하(초등학생)</div></li><li data-menuitemid="kvUt09mqm8fXUfrdeA_1wA" data-price="0" data-tabletype="N" data-fixedperson="1" data-menutype="main" data-gtm-vis-has-fired36519946_61="1">
                                                                <div class="menuSelcet_li" data-gtm-vis-has-fired36519946_61="1">
                                                                    <span class="txt" data-gtm-vis-has-fired36519946_61="1">            36개월 이하</span>
                                                                    <span class="price" data-gtm-vis-has-fired36519946_61="1">0 KRW</span>
                                                                    <div class="numPeople type02" data-gtm-vis-has-fired36519946_61="1">
                                                                        <button type="button" class="btnDown count" data-prop="down" onclick="fncBtnUpDown(this);" disabled="disabled" data-gtm-vis-has-fired36519946_61="1">인원 수 감소</button>
                                                                        <span class="personNum" data-count="0" data-gtm-vis-has-fired36519946_61="1">0</span>
                                                                        <button type="button" class="btnUp count" data-prop="up" onclick="fncBtnUpDown(this)" data-gtm-vis-has-fired36519946_61="1" disabled="disabled">인원 수 증가</button>
                                                                    </div>
                                                                </div></li></ul>
                    <p class="txtGuide" id="menuDesc" data-gtm-vis-has-fired36519946_61="1">메뉴명(메뉴가격) 메뉴별 예약금 확인 후 총 방문인원 수만큼 입력해 주세요.</p><!-- 메뉴명(메뉴가격) 메뉴별 예약금 확인 후 총 방문인원 수만큼 입력해 주세요. -->
                </div>
            </div>
            <div class="dnSelectBox addMenu" id="optionMenuItemDiv" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                <h2 class="boxTit" data-gtm-vis-has-fired36519946_61="1">추가메뉴</h2><!-- 추가메뉴 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <ul class="menuSelcet type02" id="popOptionMenuUl" data-gtm-vis-has-fired36519946_61="1"></ul>
                    <p class="txtGuide" data-gtm-vis-has-fired36519946_61="1">옵션 메뉴를 추가할 수 있습니다.</p><!-- 옵션 메뉴를 추가할 수 있습니다. -->
                </div>
            </div>
            <div class="dnSelectBox" id="amountDiv" data-gtm-vis-has-fired36519946_61="1">
                <h2 class="boxTit" data-gtm-vis-has-fired36519946_61="1">예약금액</h2><!-- 예약금액 -->
                <div class="txtSelectBox" data-gtm-vis-has-fired36519946_61="1">
                    <table class="tblV" data-gtm-vis-has-fired36519946_61="1">
                        <colgroup data-gtm-vis-has-fired36519946_61="1">
                            <col style="width:33.3%" data-gtm-vis-has-fired36519946_61="1">
                            <col style="width:33.3%" data-gtm-vis-has-fired36519946_61="1">
                            <col style="width:33.3%" data-gtm-vis-has-fired36519946_61="1">
                        </colgroup>
                        <tbody id="popCalcUl" data-gtm-vis-has-fired36519946_61="1"><tr class="popMenuList" id="pop_OnfHDUAzSnW_9cpfS9jRpA" data-id="OnfHDUAzSnW_9cpfS9jRpA" data-tabletype="N" data-menutype="main" style="" data-gtm-vis-has-fired36519946_61="1">
                                                            <th data-gtm-vis-has-fired36519946_61="1">성인</th>
                                                            <td class="person" data-gtm-vis-has-fired36519946_61="1">20,000 x <span class="amount" data-gtm-vis-has-fired36519946_61="1">3</span>명</td> <!-- 2명 -->
                                                            <td class="price" data-gtm-vis-has-fired36519946_61="1">KRW <span class="popMenuPrice" data-gtm-vis-has-fired36519946_61="1">60,000</span></td>
                                                        </tr><tr class="popMenuList" id="pop_l0ljPCWyuLp73646rTZU3w" data-id="l0ljPCWyuLp73646rTZU3w" data-tabletype="N" data-menutype="main" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                                                            <th data-gtm-vis-has-fired36519946_61="1">어린이</th>
                                                            <td class="person" data-gtm-vis-has-fired36519946_61="1">0 x <span class="amount" data-gtm-vis-has-fired36519946_61="1">0</span>명</td> <!-- 2명 -->
                                                            <td class="price" data-gtm-vis-has-fired36519946_61="1">KRW <span class="popMenuPrice" data-gtm-vis-has-fired36519946_61="1">0</span></td>
                                                        </tr><tr class="popMenuList" id="pop_kvUt09mqm8fXUfrdeA_1wA" data-id="kvUt09mqm8fXUfrdeA_1wA" data-tabletype="N" data-menutype="main" style="display: none;" data-gtm-vis-has-fired36519946_61="1">
                                                            <th data-gtm-vis-has-fired36519946_61="1">36개월 이하</th>
                                                            <td class="person" data-gtm-vis-has-fired36519946_61="1">0 x <span class="amount" data-gtm-vis-has-fired36519946_61="1">0</span>명</td> <!-- 2명 -->
                                                            <td class="price" data-gtm-vis-has-fired36519946_61="1">KRW <span class="popMenuPrice" data-gtm-vis-has-fired36519946_61="1">0</span></td>
                                                        </tr></tbody>
                    </table>
                    <div class="total noMember" data-gtm-vis-has-fired36519946_61="1">
                        <div class="totalWrap type02" data-gtm-vis-has-fired36519946_61="1">
                            <span class="tit" data-gtm-vis-has-fired36519946_61="1">총 예약금액</span><strong class="pay" data-gtm-vis-has-fired36519946_61="1"><em name="popTotalPrice" data-gtm-vis-has-fired36519946_61="1">60,000</em>KRW</strong><!-- 총 예약 금액 -->
                        </div>
                    </div>
                    <div data-gtm-vis-has-fired36519946_61="1">
                        <p class="txtGuide" id="priceDesc" data-gtm-vis-has-fired36519946_61="1">메뉴별 예약금 x 총 예약인원</p><!-- 메뉴별 예약금 x 총 예약인원 -->
                        <p class="txtGuide" data-gtm-vis-has-fired36519946_61="1">예약확정에 필요한 인원당 예약금 안내 입니다.</p><!-- 예약확정에 필요한 인원당 예약금 안내 입니다. -->
                    </div>
                </div>
            </div>
        </div>
        <div class="btnArea" data-gtm-vis-has-fired36519946_61="1">
            <a href="javascript:void(0)" class="btnSC btnL" onclick="fncGoStep0();" data-gtm-vis-has-fired36519946_61="1">이전</a><!-- 이전 -->
            <a href="javascript:void(0)" class="btnSC btnL active" onclick="fncCompleteMenuSelect();" data-gtm-vis-has-fired36519946_61="1">다음</a><!-- 다음 -->
        </div>
    </div>
</div>

<!-- //메뉴선택 Layer -->

		<!-- //container -->
        <!--(FOOTER 최종수정일 : 2023-09-14 16:42)-->
		<div class="footer">
			<div class="footArea">
				<div class="hotelList">
					<ul>
						<li class="josunpalace"><a href="https://jpg.josunhotel.com/main.do" target="_blank" title="새창열림">조선 팰리스 서울 강남</a></li>
						<li class="wchosunseoul"><a href="https://www.marriott.co.kr/hotels/travel/selwi-the-westin-chosun-seoul" target="_blank" title="새창열림">The Westin Josun Seoul</a></li>
						<li class="wchosunbusan"><a href="https://www.marriott.co.kr/hotels/travel/puswi-the-westin-chosun-busan" target="_blank" title="새창열림">The Westin Josun Busan</a></li>
						<li class="grandjosun"><a href="https://gjb.josunhotel.com/main.do" title="새창열림">Grand Josun</a></li>
						<li class="grandjosunjj"><a href="https://gjj.josunhotel.com/main.do" target="_blank" title="새창열림">Grand Josun Jeju</a></li>
						<li class="lescape"><a href="https://lescapehotel.com/main" target="_blank" title="새창열림">L'Escape Hotel</a></li>
                        <li class="gravity"><a href="https://grp.josunhotel.com/main.do" target="_blank" title="새창열림">그래비티 서울 판교</a></li>
						<li class="fourpoints"><a href="https://www.marriott.co.kr/hotels/travel/selfp-four-points-seoul-namsan" target="_blank" title="새창열림">Four Points by Sheraton</a>
						</li><li class="fourpointsmd"><a href="https://www.marriott.co.kr/hotels/travel/selfd-four-points-seoul-myeongdong" target="_blank">포포인츠 바이 쉐라톤 서울 명동</a></li>
					</ul>
				</div>

				<span class="logo"><a href="/intro.do">JOSUN HOTELS &amp; RESORTS</a></span>
				
				
					
						<div class="infoPolicy">
		                    <a href="/voc/cstmrOpinionForm.do">고객센터</a>
		                    <a href="/policy/agreement.do">웹사이트 이용약관</a>
                            <a href="https://josunhotel.com/policy/clubJosun.do">멤버십 이용약관</a>
                            <a href="/policy/voucher.do">모바일 상품권 이용약관</a>
		                    <a href="/policy/paperVoucher.do">지류 이용권 이용약관</a>
		                    <a href="/policy/privacy.do" class="pointColor">개인정보처리방침</a>
                            <br>
		                    <a href="/policy/media.do">영상정보처리기기운영·관리방침</a>
		                    <a href="/policy/emailSecurity.do">이메일무단수집금지</a>
		                    <!--<a href="/policy/hotel.do">호텔 정책</a>-->
                            <a href="/reporting/hotline.do">CSR 핫라인</a>
                            <a href="/sitemap.do">사이트맵</a>

						</div>
						<div class="dropdown_list" aria-expanded="false"> <!-- 클릭시 active 클래스 토글되면서 aria-expanded="true" 로 변경  -->
							<div class="dropdown_value">
								<input type="text" role="combobox" value="Family Sites" aria-expanded="false" tabindex="-1" readonly="">
								<button type="button" aria-label="목록열기" class="btn_opener"><i></i></button>
							</div>
							<ul class="item_list" role="listbox">
								<li role="option"><a href="https://www.shinsegaegroupinside.com/" target="_blank">신세계그룹 인사이드</a></li>
								<li role="option"><a href="http://www.ssg.com/" target="_blank">SSG.COM</a></li>
								<li role="option"><a href="http://tv.ssg.com/" target="_blank">신세계TV쇼핑</a></li>
								<li role="option"><a href="http://www.shinsegae.com/" target="_blank">신세계백화점</a></li>
								<li role="option"><a href="http://store.emart.com/" target="_blank">이마트</a></li>
								<li role="option"><a href="http://www.emarteveryday.co.kr/" target="_blank">이마트 에브리데이</a></li>
								<li role="option"><a href="https://emart24.co.kr/" target="_blank">이마트24</a></li>
								<li role="option"><a href="http://www.casamiashop.com/main.casa" target="_blank">까사미아</a></li>
								<li role="option"><a href="http://www.sikorea.co.kr/" target="_blank">신세계인터내셔날</a></li>
								<li role="option"><a href="http://www.shinsegaefood.com/" target="_blank">신세계푸드</a></li>
								<li role="option"><a href="http://www.shinsegae-enc.com/" target="_blank">신세계건설</a></li>
								<li role="option"><a href="http://www.shinsegae-inc.com/" target="_blank">신세계I&amp;C</a></li>
								<li role="option"><a href="http://www.istarbucks.co.kr/" target="_blank">스타벅스커피코리아</a></li>
								<li role="option"><a href="http://www.ssgdfm.com/shop/main" target="_blank">신세계면세점</a></li>
								<li role="option"><a href="http://www.premiumoutlets.co.kr/" target="_blank">신세계사이먼</a></li>
								<li role="option"><a href="http://www.shinsegae-lnb.com/" target="_blank">신세계 L&amp;B</a></li>
								<li role="option"><a href="http://www.shinsegaeproperty.com/ko/index.do" target="_blank">신세계 프라퍼티</a></li>
								<li role="option"><a href="http://www.shinsegaecentralcity.com/" target="_blank">신세계센트럴시티</a></li>
							</ul>
						</div>
                        <!-- 210401 ADD sns icon -->
                        <div class="snsArea">
                          <div class="icoJosun"><a href="https://josun.page.link/promotion" target="_blank">josun</a></div>
                          <div class="icoKakao"><a href="https://pf.kakao.com/_EnFPj" target="_blank">kakao</a></div>
                          <div class="icoInsta"><a href="https://www.instagram.com/josunhotelsandresorts/" target="_blank">instagram</a></div>
                          <div class="icoYoutube"><a href="https://www.youtube.com/channel/UC7ZZk3mnc0DzJqPTdjD6tOw" target="_blank">youtube</a></div>
                       </div>
                       <!-- // 210401 ADD sns icon -->
						<div class="address">
							<p>서울시 중구 소공로 106 <span class="ceo">대표이사 이주희</span><span class="tel">T. 02-771-0500</span></p>
							<p>사업자등록번호 104-81-27386 통신판매신고번호 중구 0623호</p>
						</div>
					
					
				
					
				<div class="copyright">© 2020 JOSUN HOTELS &amp; RESORTS Co. All rights reserved.</div>
			</div>
		</div>
		<!-- //footer -->
	</div>
</body>
</html>